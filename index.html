<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>4e137dbdf76449989d00316bde5f989d</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="fact-or-myth-home-court-advantage-in-the-nba" class="cell markdown" id="j-xzuYVbsRTB">
<h1>Fact or Myth: Home Court Advantage in the NBA</h1>
<p>By: Nathaniel Benyam &amp; Nathanael Temesgen</p>
</section>
<div class="cell code" data-execution_count="169" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="F8Imf_RUKsaP" data-outputId="221f3219-d27c-4696-d4ff-61f7bcbead5f">
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> google.colab <span class="im">import</span> drive</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>drive.mount(<span class="st">&#39;/content/drive&#39;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(&quot;/content/drive&quot;, force_remount=True).
</code></pre>
</div>
</div>
<section id="table-of-contents" class="cell markdown" id="GHHtYrDKmxde">
<h3>Table of Contents</h3>
<ul>
<li>Introduction
<ul>
<li>Motivation</li>
<li>Required Libraries/Tools</li>
<li>Background Readings</li>
</ul></li>
<li>Data Collection</li>
<li>Data Management</li>
<li>Exploratory Data Analysis
<ul>
<li>Raw Data Analysis
<ul>
<li>Comparing Home Wins with Away Wins</li>
<li>Star player performances home vs. away</li>
</ul></li>
<li>Accounting External Factors
<ul>
<li>COVID-19 Pandemic</li>
<li>City Population</li>
<li>Rise of Smartphones (2007)</li>
<li>Celebrity Impact</li>
</ul></li>
</ul></li>
<li>Hypothesis testing</li>
<li>Predictions on Next Season?
<ul>
<li>Who's Making it to the Playoffs?</li>
</ul></li>
<li>Is Home Court Advantage Real?</li>
</ul>
</section>
<section id="introduction" class="cell markdown" id="bX8O1usdKBPF">
<h1>Introduction</h1>
</section>
<section id="motivation" class="cell markdown" id="b-AttzNfs6p0">
<h2>Motivation</h2>
<p>Our group comprises of two students very interested in sports. We appreciate the sport of Soccer more. However, it was challenging looking for datasets about outcomes of Soccer games, so we settled to look into the National Basketball Association (NBA).</p>
<p>As fans of sports, growing up we have always heard that "home court advantage" is an influential factor in how a team performs. So, as a group, we asked ourselves the following:</p>
<ul>
<li>In all games, are there more home wins than their are away wins?</li>
<li>Does being at home court affect individual player performance?</li>
<li>How do external factor like the COVID-19 pandemic, city population, etc. affect the difference between a home court's impact across all the teams in the NBA?</li>
<li>Is there a significant difference between the average number of home wins per season for each team in the NBA versus that of the away wins?</li>
<li>Can we try and predict which teams will make it to the playoffs in the next season? If so, how do those teams home win to home loss ration compare to that of the other teams?</li>
</ul>
</section>
<section id="required-librariestools-mention-imports-as-we-move-along" class="cell markdown" id="HFxzE30-tGKD">
<h2>Required Libraries/Tools (Mention imports as we move along)</h2>
</section>
<div class="cell markdown" id="Sv9wOrufqEEB">
<ul>
<li><p><a href="https://kaggle.com">Kaggle</a>: an online community platform for data scientists and machine learning enthusiasts.</p></li>
<li><p><a href="https://pandas.pydata.org/">Pandas</a>: an open source data analysis and manipulation tool, built on top of the Python programming language.</p></li>
<li><p><a href="https://docs.python.org/3/library/datetime.html">Datetime</a>: a module that supplies classes for manipulating dates and times.</p></li>
<li><p><a href="https://matplotlib.org/">Maplotlib</a>: a comprehensive library fo creating static, animated, and interactive visualizations in Python.</p></li>
<li><p><a href="https://seaborn.pydata.org/">Seaborn</a>: a Python data visualization library based on Matplotlib.</p></li>
<li><p><a href="https://numpy.org/">NumPy</a>: a library for the Python programming language, adding support for large, multi-dimensional arrays and matrices, along with a large collection of high-level mathematical functions to operate on these arrays.</p></li>
<li><p><a href="https://docs.python.org/3/library/collections.html">OrderedDict</a>: a dictionary subclass that remembers the order that keys were first inserted.</p></li>
<li><p><a href="https://scipy.org/">SciPy</a>: a free and open-source Python library used for scientific computing and technical computing.</p></li>
<li><p><a href="https://docs.python.org/3/library/statistics.html">Statistics</a>: a module that provides functions for calculating mathematical statistics.</p></li>
<li><p><a href="https://requests.readthedocs.io/en/latest/">Requests</a>: a module to help deal with HTTP requests (get, post, etc)</p></li>
<li><p><a href="https://realpython.com/beautiful-soup-web-scraper-python/">BeautifulSoup</a>: a module to parse the html data that will be retrieved from the url.</p></li>
<li><p><a href="https://scikit-learn.org/stable/">sklearn</a>: a Python library to help work with Machine Learning Algorithms</p></li>
</ul>
</div>
<section id="data-collection" class="cell markdown" id="k8ULadn0Lxyw">
<h1>Data Collection</h1>
</section>
<div class="cell markdown" id="z8PL5AiBqQ3F">
<p>Using an online community platform for data scientists and machine learning enthusiasts called <a href="https://kaggle.com">Kaggle</a>, we were able to find a dataset on every NBA game ranging from late 2003 to early 2022 (<a href="https://www.kaggle.com/datasets/nathanlauga/nba-games">link</a>). For every game, we're able to identify any information on a game ranging from where the game was held to an individual player's field goal percentage in a game.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:299,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="uX06vx0wqmJ8" data-outputId="bf1f84cd-dc11-45a0-bf13-13be381aad44">
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>path_to_games <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/CMSC320_Final_Project/games.csv&#39;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>path_to_teams <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/CMSC320_Final_Project/teams.csv&#39;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>path_to_games_details <span class="op">=</span> <span class="st">&#39;/content/drive/MyDrive/CMSC320_Final_Project/games_details.csv&#39;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># import data</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>df_nba_games <span class="op">=</span> pd.read_csv(path_to_games)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>df_nba_games.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="136">

  <div id="df-2724345d-fb97-4ee2-a4eb-3a0a3f283722">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GAME_DATE_EST</th>
      <th>GAME_ID</th>
      <th>GAME_STATUS_TEXT</th>
      <th>HOME_TEAM_ID</th>
      <th>VISITOR_TEAM_ID</th>
      <th>SEASON</th>
      <th>TEAM_ID_home</th>
      <th>PTS_home</th>
      <th>FG_PCT_home</th>
      <th>FT_PCT_home</th>
      <th>...</th>
      <th>AST_home</th>
      <th>REB_home</th>
      <th>TEAM_ID_away</th>
      <th>PTS_away</th>
      <th>FG_PCT_away</th>
      <th>FT_PCT_away</th>
      <th>FG3_PCT_away</th>
      <th>AST_away</th>
      <th>REB_away</th>
      <th>HOME_TEAM_WINS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2022-03-12</td>
      <td>22101005</td>
      <td>Final</td>
      <td>1610612748</td>
      <td>1610612750</td>
      <td>2021</td>
      <td>1610612748</td>
      <td>104.0</td>
      <td>0.398</td>
      <td>0.760</td>
      <td>...</td>
      <td>23.0</td>
      <td>53.0</td>
      <td>1610612750</td>
      <td>113.0</td>
      <td>0.422</td>
      <td>0.875</td>
      <td>0.357</td>
      <td>21.0</td>
      <td>46.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2022-03-12</td>
      <td>22101006</td>
      <td>Final</td>
      <td>1610612741</td>
      <td>1610612739</td>
      <td>2021</td>
      <td>1610612741</td>
      <td>101.0</td>
      <td>0.443</td>
      <td>0.933</td>
      <td>...</td>
      <td>20.0</td>
      <td>46.0</td>
      <td>1610612739</td>
      <td>91.0</td>
      <td>0.419</td>
      <td>0.824</td>
      <td>0.208</td>
      <td>19.0</td>
      <td>40.0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2022-03-12</td>
      <td>22101007</td>
      <td>Final</td>
      <td>1610612759</td>
      <td>1610612754</td>
      <td>2021</td>
      <td>1610612759</td>
      <td>108.0</td>
      <td>0.412</td>
      <td>0.813</td>
      <td>...</td>
      <td>28.0</td>
      <td>52.0</td>
      <td>1610612754</td>
      <td>119.0</td>
      <td>0.489</td>
      <td>1.000</td>
      <td>0.389</td>
      <td>23.0</td>
      <td>47.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2022-03-12</td>
      <td>22101008</td>
      <td>Final</td>
      <td>1610612744</td>
      <td>1610612749</td>
      <td>2021</td>
      <td>1610612744</td>
      <td>122.0</td>
      <td>0.484</td>
      <td>0.933</td>
      <td>...</td>
      <td>33.0</td>
      <td>55.0</td>
      <td>1610612749</td>
      <td>109.0</td>
      <td>0.413</td>
      <td>0.696</td>
      <td>0.386</td>
      <td>27.0</td>
      <td>39.0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2022-03-12</td>
      <td>22101009</td>
      <td>Final</td>
      <td>1610612743</td>
      <td>1610612761</td>
      <td>2021</td>
      <td>1610612743</td>
      <td>115.0</td>
      <td>0.551</td>
      <td>0.750</td>
      <td>...</td>
      <td>32.0</td>
      <td>39.0</td>
      <td>1610612761</td>
      <td>127.0</td>
      <td>0.471</td>
      <td>0.760</td>
      <td>0.387</td>
      <td>28.0</td>
      <td>50.0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 21 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-2724345d-fb97-4ee2-a4eb-3a0a3f283722')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-2724345d-fb97-4ee2-a4eb-3a0a3f283722 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-2724345d-fb97-4ee2-a4eb-3a0a3f283722');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<section id="data-management" class="cell markdown" id="v4BeQjyoMPhm">
<h1>Data Management</h1>
<h2 id="initial-data-cleaning-5-steps">Initial Data Cleaning (5 steps)</h2>
</section>
<div class="cell markdown" id="ZvVXTFXha0jx">
<p>To start the cleaning process, our group looked over the dataset to determine how much data cleaning is necessary. We checked for traits that typically occur in messy datasets that relate to the data being corrupted, incorrectly formatted, duplicated, and more negative aspects via this <a href="https://www.tableau.com/learn/articles/what-is-data-cleaning#:~:text=Data%20cleaning%20is%20the%20process,to%20be%20duplicated%20or%20mislabeled.">link</a> from Tableau.</p>
<p>For our project, we started with the structural issues rather than removing the duplicate/irrelevant data because by strictly following the steps mentioned in the link above, it would not be as convenient for the reader.</p>
</div>
<section id="1-fix-structural-errors" class="cell markdown" id="5qtgYIRZgwU4">
<h3>1) Fix structural errors</h3>
<p>One structural aspect of the dataset was to make the 'GAME_DATE_EST' column more usable when using the dates. We felt that it would be best to convert the string to a Date object, which will help when further exploring the data.</p>
<p>Besides that, our group came to the conclusion that there was not much "strange" data in the dataset. We inherited a dataset whose author was careful in the naming conventions of the columns and there are no columns that have phrases so the scope of structural error shrinks automatically.</p>
</section>
<div class="cell code" data-colab="{&quot;height&quot;:299,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="nWMkHAP0rnRi" data-outputId="75988a69-84a7-4b2b-d476-7f34afb1655a">
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate to create column that stores dates as objects</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>lst_dates <span class="op">=</span> []  <span class="co"># will stores dates of games as date object</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index, row) <span class="kw">in</span> df_nba_games.iterrows():</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># split current date to get year, date, and month</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  curr_date <span class="op">=</span> row[<span class="st">&#39;GAME_DATE_EST&#39;</span>]</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  lst_y_m_d <span class="op">=</span> (curr_date.split(<span class="st">&#39;-&#39;</span>))  <span class="co"># [year, month, date]</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get datetime and call its date function (stores date without time) in soon-to-be column</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  curr_datetime_date <span class="op">=</span> datetime.datetime(<span class="bu">int</span>(lst_y_m_d[<span class="dv">0</span>]), <span class="bu">int</span>(lst_y_m_d[<span class="dv">1</span>]), <span class="bu">int</span>(lst_y_m_d[<span class="dv">2</span>]))</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  lst_dates.append(curr_datetime_date.date())</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># with date objects in a new cols, can drop str version of date and replace with dates objs</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>df_nba_games <span class="op">=</span> df_nba_games.drop(columns <span class="op">=</span> [<span class="st">&#39;GAME_DATE_EST&#39;</span>])</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>df_nba_games[<span class="st">&#39;GAME_DATE_EST&#39;</span>] <span class="op">=</span> lst_dates</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>df_nba_games.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="137">

  <div id="df-0ca52c58-11e8-4aae-821b-19a1853937eb">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GAME_ID</th>
      <th>GAME_STATUS_TEXT</th>
      <th>HOME_TEAM_ID</th>
      <th>VISITOR_TEAM_ID</th>
      <th>SEASON</th>
      <th>TEAM_ID_home</th>
      <th>PTS_home</th>
      <th>FG_PCT_home</th>
      <th>FT_PCT_home</th>
      <th>FG3_PCT_home</th>
      <th>...</th>
      <th>REB_home</th>
      <th>TEAM_ID_away</th>
      <th>PTS_away</th>
      <th>FG_PCT_away</th>
      <th>FT_PCT_away</th>
      <th>FG3_PCT_away</th>
      <th>AST_away</th>
      <th>REB_away</th>
      <th>HOME_TEAM_WINS</th>
      <th>GAME_DATE_EST</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>22101005</td>
      <td>Final</td>
      <td>1610612748</td>
      <td>1610612750</td>
      <td>2021</td>
      <td>1610612748</td>
      <td>104.0</td>
      <td>0.398</td>
      <td>0.760</td>
      <td>0.333</td>
      <td>...</td>
      <td>53.0</td>
      <td>1610612750</td>
      <td>113.0</td>
      <td>0.422</td>
      <td>0.875</td>
      <td>0.357</td>
      <td>21.0</td>
      <td>46.0</td>
      <td>0</td>
      <td>2022-03-12</td>
    </tr>
    <tr>
      <th>1</th>
      <td>22101006</td>
      <td>Final</td>
      <td>1610612741</td>
      <td>1610612739</td>
      <td>2021</td>
      <td>1610612741</td>
      <td>101.0</td>
      <td>0.443</td>
      <td>0.933</td>
      <td>0.429</td>
      <td>...</td>
      <td>46.0</td>
      <td>1610612739</td>
      <td>91.0</td>
      <td>0.419</td>
      <td>0.824</td>
      <td>0.208</td>
      <td>19.0</td>
      <td>40.0</td>
      <td>1</td>
      <td>2022-03-12</td>
    </tr>
    <tr>
      <th>2</th>
      <td>22101007</td>
      <td>Final</td>
      <td>1610612759</td>
      <td>1610612754</td>
      <td>2021</td>
      <td>1610612759</td>
      <td>108.0</td>
      <td>0.412</td>
      <td>0.813</td>
      <td>0.324</td>
      <td>...</td>
      <td>52.0</td>
      <td>1610612754</td>
      <td>119.0</td>
      <td>0.489</td>
      <td>1.000</td>
      <td>0.389</td>
      <td>23.0</td>
      <td>47.0</td>
      <td>0</td>
      <td>2022-03-12</td>
    </tr>
    <tr>
      <th>3</th>
      <td>22101008</td>
      <td>Final</td>
      <td>1610612744</td>
      <td>1610612749</td>
      <td>2021</td>
      <td>1610612744</td>
      <td>122.0</td>
      <td>0.484</td>
      <td>0.933</td>
      <td>0.400</td>
      <td>...</td>
      <td>55.0</td>
      <td>1610612749</td>
      <td>109.0</td>
      <td>0.413</td>
      <td>0.696</td>
      <td>0.386</td>
      <td>27.0</td>
      <td>39.0</td>
      <td>1</td>
      <td>2022-03-12</td>
    </tr>
    <tr>
      <th>4</th>
      <td>22101009</td>
      <td>Final</td>
      <td>1610612743</td>
      <td>1610612761</td>
      <td>2021</td>
      <td>1610612743</td>
      <td>115.0</td>
      <td>0.551</td>
      <td>0.750</td>
      <td>0.407</td>
      <td>...</td>
      <td>39.0</td>
      <td>1610612761</td>
      <td>127.0</td>
      <td>0.471</td>
      <td>0.760</td>
      <td>0.387</td>
      <td>28.0</td>
      <td>50.0</td>
      <td>0</td>
      <td>2022-03-12</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 21 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0ca52c58-11e8-4aae-821b-19a1853937eb')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0ca52c58-11e8-4aae-821b-19a1853937eb button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0ca52c58-11e8-4aae-821b-19a1853937eb');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<section id="2-removing-duplicateirrelevant-observation" class="cell markdown" id="Al1e6exvd8fM">
<h3>2) Removing duplicate/irrelevant observation</h3>
<p>The 'GAME_STATUS_TEXT' column respresents whether the game has been completed or not. Our group assumed that this column may be necessary for data scientists who wanted to analyze the data of the game as it was going on. Data may be retrieved and analyzed during a live match for reasons such as to allow commentators to retain the attention of their audience, to make predictions on how a team may perform for the rest of the game, etc.</p>
<p>Based on the goal of our project, our group did not find this column necessary as we only care about games that have already completed (which are all of the games in the dataset, as you can see below). Moreover, there is only one unique value in the column. Therefore, we believe that this column will not play a vital role in coming to a conclusion.</p>
<p>How we remove possible duplicates. In the NBA, a team is not allowed to play back-to-back games - to prevent injuries and maintain the quality of the game. However, there have been times where a team would play back-to-back games in different cities. Even with that, teams would never play the same opponent the day after they just played a game. With that, we determine duplicate data by checking whether a row and its subsequent row have the same home and away teams and the difference in the date of the games are by one day.</p>
<p>Number of words: 239</p>
</section>
<div class="cell code" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="wS6M9S8aaxsc" data-outputId="207b5940-301f-4ac1-9b51-d75544c42d05">
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find number of values that are not equal to &#39;FINAL&#39;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Number of values not equal to final: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_nba_games[df_nba_games[<span class="st">&#39;GAME_STATUS_TEXT&#39;</span>] <span class="op">!=</span> <span class="st">&#39;Final&#39;</span>]) ))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># can drop</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>df_nba_games <span class="op">=</span> df_nba_games.drop(columns <span class="op">=</span> [<span class="st">&#39;GAME_STATUS_TEXT&#39;</span>])</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># stores number of rows in dataframe</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>len_df <span class="op">=</span> (df_nba_games.index.<span class="bu">max</span>())</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate to remove duplicates</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index, row) <span class="kw">in</span> df_nba_games.iterrows():</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># check if the home teams and away teams have equal values -&gt; implies duplicates</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( (index <span class="op">&lt;</span> len_df ) <span class="kw">and</span> (row[<span class="st">&#39;HOME_TEAM_ID&#39;</span>]  <span class="op">==</span> df_nba_games.at[index <span class="op">+</span> <span class="dv">1</span>, <span class="st">&#39;HOME_TEAM_ID&#39;</span>]) <span class="kw">and</span> (row[<span class="st">&#39;VISITOR_TEAM_ID&#39;</span>]  <span class="op">==</span> df_nba_games.at[index <span class="op">+</span> <span class="dv">1</span>, <span class="st">&#39;VISITOR_TEAM_ID&#39;</span>]) ):</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># store and calculate difference in days</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    diff <span class="op">=</span> (row[<span class="st">&#39;GAME_DATE_EST&#39;</span>] <span class="op">-</span> df_nba_games.at[index <span class="op">+</span> <span class="dv">1</span>, <span class="st">&#39;GAME_DATE_EST&#39;</span>]).days</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if the difference is equal to one, very likely that data is duplicated.</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># very likely that teams play back to back in the same city</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (diff <span class="op">==</span> <span class="dv">1</span>):</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>      df_nba_games.drop(index)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Number of values not equal to final: 0
</code></pre>
</div>
</div>
<section id="3-filter-unwanted-outliers" class="cell markdown" id="WGx2_pwhmrkf">
<h3>3) Filter unwanted outliers</h3>
<p>What do outliers mean to us? When inspecting the dataset for values that may look out of place because they either may not be valid or are just unbelievable, we determined that there were no outliers that were significant enough to remove data from the dataset. The outliers that we identified were actual events that happened because one team may have been superior than the other on that given night. In sports, this is often referred to as a 'blowout'.</p>
<p>In general, when it came to outliers, we did not have a legitimate reason to remove "outliers" so we maintained the integrity of the data.</p>
</section>
<section id="4-handle-missing-data" class="cell markdown" id="oHPOgxcJmru1">
<h3>4) Handle missing data</h3>
<p>Good news! We realized that the most essential data at a higher level (i.e. final score of game, teams that played in the game, whether the home team won, etc.) do not have missing data. This is a good thing as this is data that is very influential in answering the questions that we have about home court advantage.</p>
<p>Bad news! We discovered that twelve columns that have data that is not available. To go about this issue, we have decided to navigate null values in order to maintain integrity of the dataset and because the questions that our project will be asking of the dataset will not depend on these missing values.</p>
</section>
<section id="5-validate-and-qa" class="cell markdown" id="z5OtBNN8pzpa">
<h3>5) Validate and QA</h3>
<p>At this point in the data process, our group believes that we have cleaned the data to the extent that we can explore the dataset even further to gain valuable insight. So on we go!</p>
</section>
<section id="exploratory-data-analysis" class="cell markdown" id="5OdvcprUtwAH">
<h1>Exploratory Data Analysis</h1>
</section>
<section id="raw-data-analysis" class="cell markdown" id="91oNlApOt5oh">
<h2>Raw Data Analysis</h2>
</section>
<section id="comparing-home-wins-with-away-wins" class="cell markdown" id="h9uQByT8uBxm">
<h3>Comparing Home Wins with Away Wins</h3>
</section>
<div class="cell markdown" id="Bm394iZpE11u">
<p>In order to check and see whether or not home court advantage is a real thing, one (arguably naive) way is to compare the total home wins in the NBA and the total away wins.</p>
<p>One way to plot graphs is to use <a href="https://matplotlib.org/">Matplotlib</a>. This is a comprehensive library for creating static, animated, and interactive visualizations in Python.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:605,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="ZiiRCHh7GTVQ" data-outputId="f22a86ce-26dc-4317-bc7d-b58a3ec86549">
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create copy of dataframe</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>df_nba_games_nt <span class="op">=</span> df_nba_games</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract home wins and away wins from dataframe</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>home_wins <span class="op">=</span> <span class="bu">len</span>(df_nba_games_nt[df_nba_games_nt[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">1</span>])</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>away_wins <span class="op">=</span> <span class="bu">len</span>(df_nba_games_nt[df_nba_games_nt[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">0</span>])</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [<span class="st">&#39;Home Wins&#39;</span>, <span class="st">&#39;Away Wins&#39;</span>]</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> [home_wins, away_wins]</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create bar graph</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>plt.bar(x,y)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Label each bar</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="op">-</span><span class="fl">0.10</span>, <span class="dv">15500</span>, <span class="bu">str</span>(y[<span class="dv">0</span>]), color<span class="op">=</span><span class="st">&#39;blue&#39;</span>)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="fl">0.9</span>, <span class="dv">11000</span>, <span class="bu">str</span>(y[<span class="dv">1</span>]), color<span class="op">=</span><span class="st">&#39;blue&#39;</span>)</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>plt.ylim([<span class="dv">0</span>,<span class="dv">18000</span>])</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Label graph</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Number of Wins&#39;</span>)</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;NBA Home Wins vs. Away Wins (2003 - 2022)&#39;</span>)</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Show plot</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/51f00380c37f489d7e6c04352db3ea7070fc1590.png" /></p>
</div>
</div>
<div class="cell markdown" id="gUkNkEA3UN9r">
<p>Another way to measure home-game impact is by looking at each teams' home wins and home losses. In order to compare a team's home wins and losses, we can use the following formula:</p>
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/68e4057fb37101bb7ecdfa019fd7ef1aecb250fa.png" alt="Screen Shot 2022-12-16 at 4.33.08 PM.png" /></p>
<p>But first, to make things easier for us, lets create a new Dataframe consisting of a teams home game wins ('home_wins'), home game losses ('home_losses'), away game wins ('away_wins'), and away game losses ('away_losses').</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:990,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="w9lXCBeTYDwL" data-outputId="b21a4736-2762-4250-8f51-8e5d3197ed2d">
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Merging both &#39;games&#39; and &#39;teams&#39; dataframes so that we have information on home teams for each game</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>df_nba_teams <span class="op">=</span> pd.read_csv(path_to_teams)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>df_nba_games_home_teams <span class="op">=</span> pd.merge(df_nba_games_nt, df_nba_teams, how<span class="op">=</span><span class="st">&#39;inner&#39;</span>, left_on<span class="op">=</span><span class="st">&#39;HOME_TEAM_ID&#39;</span>, right_on<span class="op">=</span><span class="st">&#39;TEAM_ID&#39;</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize columns for our new dataframe</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>teams <span class="op">=</span> df_nba_games_home_teams[<span class="st">&#39;NICKNAME&#39;</span>].unique()</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>team_city <span class="op">=</span> []</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>team_id <span class="op">=</span> []</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>home_wins <span class="op">=</span> []</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>home_losses <span class="op">=</span> []</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>away_wins <span class="op">=</span> []</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>away_losses <span class="op">=</span> []</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> team <span class="kw">in</span> teams:</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the current team&#39;s ID</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  curr_team_id <span class="op">=</span> df_nba_teams[df_nba_teams[<span class="st">&#39;NICKNAME&#39;</span>] <span class="op">==</span> team].iloc[<span class="dv">0</span>][<span class="st">&#39;TEAM_ID&#39;</span>]</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  team_id.append(curr_team_id)</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the current team&#39;s city</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  curr_team_city <span class="op">=</span> df_nba_teams[df_nba_teams[<span class="st">&#39;NICKNAME&#39;</span>] <span class="op">==</span> team].iloc[<span class="dv">0</span>][<span class="st">&#39;CITY&#39;</span>]</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  team_city.append(curr_team_city)</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract new dataframes consisting of a team&#39;s home and away games, respectively</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  curr_team_home_games <span class="op">=</span> df_nba_games_home_teams[df_nba_games_home_teams[<span class="st">&#39;NICKNAME&#39;</span>] <span class="op">==</span> team]</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  curr_team_away_games <span class="op">=</span> df_nba_games_home_teams[df_nba_games_home_teams[<span class="st">&#39;VISITOR_TEAM_ID&#39;</span>] <span class="op">==</span> curr_team_id]</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract home wins, home losses, away wins, and away losses for the current team and append that</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to our soon to be columns from their respective dataframes</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  home_wins.append(<span class="bu">len</span>(curr_team_home_games[curr_team_home_games[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">1</span>]))</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>  home_losses.append(<span class="bu">len</span>(curr_team_home_games[curr_team_home_games[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">0</span>]))</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>  away_wins.append(<span class="bu">len</span>(curr_team_away_games[curr_team_away_games[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">0</span>]))</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>  away_losses.append(<span class="bu">len</span>(curr_team_away_games[curr_team_away_games[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">1</span>]))</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Create new dataframe</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">&#39;teams&#39;</span>: teams,</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;team_id&#39;</span>: team_id,</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;team_city&#39;</span>: team_city,</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;home_wins&#39;</span>: home_wins,</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;home_losses&#39;</span>: home_losses,</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;away_wins&#39;</span>: away_wins,</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;away_losses&#39;</span>: away_losses}</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats</span></code></pre></div>
<div class="output execute_result" data-execution_count="140">

  <div id="df-b4b77a69-6d06-4896-9c96-9ef639523514">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>teams</th>
      <th>team_id</th>
      <th>team_city</th>
      <th>home_wins</th>
      <th>home_losses</th>
      <th>away_wins</th>
      <th>away_losses</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Heat</td>
      <td>1610612748</td>
      <td>Miami</td>
      <td>609</td>
      <td>313</td>
      <td>428</td>
      <td>480</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bulls</td>
      <td>1610612741</td>
      <td>Chicago</td>
      <td>506</td>
      <td>368</td>
      <td>360</td>
      <td>481</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Spurs</td>
      <td>1610612759</td>
      <td>San Antonio</td>
      <td>677</td>
      <td>238</td>
      <td>490</td>
      <td>417</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Warriors</td>
      <td>1610612744</td>
      <td>Golden State</td>
      <td>578</td>
      <td>293</td>
      <td>405</td>
      <td>473</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Nuggets</td>
      <td>1610612743</td>
      <td>Denver</td>
      <td>574</td>
      <td>274</td>
      <td>395</td>
      <td>496</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Jazz</td>
      <td>1610612762</td>
      <td>Utah</td>
      <td>556</td>
      <td>289</td>
      <td>370</td>
      <td>501</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Trail Blazers</td>
      <td>1610612757</td>
      <td>Portland</td>
      <td>517</td>
      <td>334</td>
      <td>333</td>
      <td>521</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Magic</td>
      <td>1610612753</td>
      <td>Orlando</td>
      <td>443</td>
      <td>404</td>
      <td>318</td>
      <td>534</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Hawks</td>
      <td>1610612737</td>
      <td>Atlanta</td>
      <td>484</td>
      <td>371</td>
      <td>323</td>
      <td>552</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Celtics</td>
      <td>1610612738</td>
      <td>Boston</td>
      <td>581</td>
      <td>333</td>
      <td>430</td>
      <td>470</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Rockets</td>
      <td>1610612745</td>
      <td>Houston</td>
      <td>562</td>
      <td>312</td>
      <td>421</td>
      <td>451</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Grizzlies</td>
      <td>1610612763</td>
      <td>Memphis</td>
      <td>503</td>
      <td>349</td>
      <td>348</td>
      <td>507</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Pelicans</td>
      <td>1610612740</td>
      <td>New Orleans</td>
      <td>444</td>
      <td>377</td>
      <td>317</td>
      <td>531</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Suns</td>
      <td>1610612756</td>
      <td>Phoenix</td>
      <td>491</td>
      <td>368</td>
      <td>392</td>
      <td>460</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Lakers</td>
      <td>1610612747</td>
      <td>Los Angeles</td>
      <td>564</td>
      <td>381</td>
      <td>365</td>
      <td>475</td>
    </tr>
    <tr>
      <th>15</th>
      <td>76ers</td>
      <td>1610612755</td>
      <td>Philadelphia</td>
      <td>451</td>
      <td>393</td>
      <td>311</td>
      <td>535</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Hornets</td>
      <td>1610612766</td>
      <td>Charlotte</td>
      <td>382</td>
      <td>390</td>
      <td>240</td>
      <td>539</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Pistons</td>
      <td>1610612765</td>
      <td>Detroit</td>
      <td>506</td>
      <td>371</td>
      <td>330</td>
      <td>528</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Bucks</td>
      <td>1610612749</td>
      <td>Milwaukee</td>
      <td>490</td>
      <td>362</td>
      <td>328</td>
      <td>535</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Timberwolves</td>
      <td>1610612750</td>
      <td>Minnesota</td>
      <td>385</td>
      <td>433</td>
      <td>271</td>
      <td>549</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Mavericks</td>
      <td>1610612742</td>
      <td>Dallas</td>
      <td>570</td>
      <td>305</td>
      <td>432</td>
      <td>447</td>
    </tr>
    <tr>
      <th>21</th>
      <td>Kings</td>
      <td>1610612758</td>
      <td>Sacramento</td>
      <td>405</td>
      <td>413</td>
      <td>271</td>
      <td>562</td>
    </tr>
    <tr>
      <th>22</th>
      <td>Clippers</td>
      <td>1610612746</td>
      <td>Los Angeles</td>
      <td>521</td>
      <td>353</td>
      <td>371</td>
      <td>485</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Pacers</td>
      <td>1610612754</td>
      <td>Indiana</td>
      <td>542</td>
      <td>325</td>
      <td>365</td>
      <td>511</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Thunder</td>
      <td>1610612760</td>
      <td>Oklahoma City</td>
      <td>524</td>
      <td>344</td>
      <td>388</td>
      <td>481</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Wizards</td>
      <td>1610612764</td>
      <td>Washington</td>
      <td>439</td>
      <td>389</td>
      <td>297</td>
      <td>569</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Cavaliers</td>
      <td>1610612739</td>
      <td>Cleveland</td>
      <td>532</td>
      <td>358</td>
      <td>367</td>
      <td>505</td>
    </tr>
    <tr>
      <th>27</th>
      <td>Raptors</td>
      <td>1610612761</td>
      <td>Toronto</td>
      <td>509</td>
      <td>351</td>
      <td>375</td>
      <td>481</td>
    </tr>
    <tr>
      <th>28</th>
      <td>Nets</td>
      <td>1610612751</td>
      <td>Brooklyn</td>
      <td>429</td>
      <td>419</td>
      <td>323</td>
      <td>531</td>
    </tr>
    <tr>
      <th>29</th>
      <td>Knicks</td>
      <td>1610612752</td>
      <td>New York</td>
      <td>381</td>
      <td>431</td>
      <td>277</td>
      <td>548</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-b4b77a69-6d06-4896-9c96-9ef639523514')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-b4b77a69-6d06-4896-9c96-9ef639523514 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-b4b77a69-6d06-4896-9c96-9ef639523514');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="Tk8kEDu3pYWA">
<p>Now let's compute the formula and graph our findings using <a href="https://seaborn.pydata.org/">Seaborn</a>, a Python data visualization library based on Matplotlib.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:400,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="WkRUGa5Lf7qj" data-outputId="e4911c81-dff8-40f0-d19f-f6dac22b0078">
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># New dataframe called &#39;df_ratio&#39; so that we can store our newly computed values into a new column</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># labelled &#39;ratio&#39;.</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>df_ratio <span class="op">=</span> df_nba_team_stats</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>df_ratio[<span class="st">&#39;ratio&#39;</span>] <span class="op">=</span> (df_nba_team_stats[<span class="st">&#39;home_wins&#39;</span>] <span class="op">-</span> df_nba_team_stats[<span class="st">&#39;home_losses&#39;</span>]) <span class="op">/</span> (df_nba_team_stats[<span class="st">&#39;home_wins&#39;</span>] <span class="op">+</span> df_nba_team_stats[<span class="st">&#39;home_losses&#39;</span>])</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new column that indicates whether or not our value is greater than or equal to zero</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># for our legend and &#39;hue&#39;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>greater_than_zero <span class="op">=</span> []</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, row <span class="kw">in</span> df_ratio.iterrows():</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> row[<span class="st">&#39;ratio&#39;</span>] <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    greater_than_zero.append(<span class="st">&#39;&gt;0&#39;</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    greater_than_zero.append(<span class="st">&#39;&lt;=0&#39;</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>df_ratio[<span class="st">&#39;greater_than_zero&#39;</span>] <span class="op">=</span> greater_than_zero</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot seaborn bar graph</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>[<span class="dv">4</span>,<span class="dv">6</span>])</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>plt.rcParams.update({<span class="st">&#39;font.size&#39;</span>: <span class="dv">9</span>})</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>sns.barplot(y<span class="op">=</span>df_ratio[<span class="st">&#39;teams&#39;</span>], x<span class="op">=</span>df_ratio[<span class="st">&#39;ratio&#39;</span>], hue<span class="op">=</span>df_ratio[<span class="st">&#39;greater_than_zero&#39;</span>])</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Home Court Impact in the NBA&#39;</span>)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/d9c04321e24f2048de66807364fa6ab979497cbd.png" /></p>
</div>
</div>
<div class="cell markdown" id="HPuMwFIpyTj-">
<p>Looking at this graph, you can clearly see that the majority of NBA teams perform a lot better when they are in their home city/arena. Let's take a look at some star players and see how playing in their team's home city impacts their performance individually.</p>
</div>
<section id="star-player-performances-home-vs-away" class="cell markdown" id="VOh7ETG7uHUS">
<h3>Star player performances home vs. away</h3>
</section>
<div class="cell markdown" id="efxT2Ypq62f7">
<p>Directing our attention to individual players and their performance when home versus away, we decided to keep track of five star players:</p>
<ol>
<li>Stephen Curry</li>
<li>Kobe Bryant</li>
<li>LeBron James</li>
<li>Kevin Durant</li>
<li>Jimmy Butler</li>
</ol>
</div>
<div class="cell markdown" id="djNXb4te-8zT">
<p>To make things easy for us, let's extract the games each of these players have played in.</p>
</div>
<div class="cell code" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="uZJPz5W_-8bo" data-outputId="e448d74d-91d1-4aac-e718-45c74fa8c829">
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df_nba_game_details <span class="op">=</span> pd.read_csv(path_to_games_details)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract all game details and create new dataframe for each player</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>df_curry <span class="op">=</span> df_nba_game_details[df_nba_game_details[<span class="st">&#39;PLAYER_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;Stephen Curry&#39;</span>]</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>df_kobe <span class="op">=</span> df_nba_game_details[df_nba_game_details[<span class="st">&#39;PLAYER_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;Kobe Bryant&#39;</span>]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>df_lebron <span class="op">=</span> df_nba_game_details[df_nba_game_details[<span class="st">&#39;PLAYER_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;LeBron James&#39;</span>]</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>df_kd <span class="op">=</span> df_nba_game_details[df_nba_game_details[<span class="st">&#39;PLAYER_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;Kevin Durant&#39;</span>]</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>df_jimmy <span class="op">=</span> df_nba_game_details[df_nba_game_details[<span class="st">&#39;PLAYER_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;Jimmy Butler&#39;</span>]</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge with games so we can get insight on whether they were home or away</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>df_curry <span class="op">=</span> pd.merge(df_nba_games, df_curry, how<span class="op">=</span><span class="st">&#39;inner&#39;</span>, on<span class="op">=</span><span class="st">&#39;GAME_ID&#39;</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>df_kobe <span class="op">=</span> pd.merge(df_nba_games, df_kobe, how<span class="op">=</span><span class="st">&#39;inner&#39;</span>, on<span class="op">=</span><span class="st">&#39;GAME_ID&#39;</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>df_lebron <span class="op">=</span> pd.merge(df_nba_games, df_lebron, how<span class="op">=</span><span class="st">&#39;inner&#39;</span>, on<span class="op">=</span><span class="st">&#39;GAME_ID&#39;</span>)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>df_kd <span class="op">=</span> pd.merge(df_nba_games, df_kd, how<span class="op">=</span><span class="st">&#39;inner&#39;</span>, on<span class="op">=</span><span class="st">&#39;GAME_ID&#39;</span>)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>df_jimmy <span class="op">=</span> pd.merge(df_nba_games, df_jimmy, how<span class="op">=</span><span class="st">&#39;inner&#39;</span>, on<span class="op">=</span><span class="st">&#39;GAME_ID&#39;</span>)</span></code></pre></div>
<div class="output stream stderr">
<pre><code>/usr/local/lib/python3.8/dist-packages/IPython/core/interactiveshell.py:3326: DtypeWarning: Columns (6) have mixed types.Specify dtype option on import or set low_memory=False.
  exec(code_obj, self.user_global_ns, self.user_ns)
</code></pre>
</div>
</div>
<div class="cell markdown" id="3HyrG0ModYNQ">
<p>Using these new dataframes, we can now get information on an individual player. In order to keep track of a player's performance, we'll take a look at the average points scored, assists, rebounds, field goal percentage, and steals at their home arena versus that when they are away.</p>
</div>
<div class="cell code" id="raqXN0jtiaGD">
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract home and away games for Stephen Curry</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df_curry_home <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>df_curry_away <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, row <span class="kw">in</span> df_curry.iterrows():</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> row[<span class="st">&#39;HOME_TEAM_ID&#39;</span>] <span class="op">==</span> row[<span class="st">&#39;TEAM_ID&#39;</span>]:</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    df_curry_home <span class="op">=</span> df_curry_home.append(row)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> row[<span class="st">&#39;VISITOR_TEAM_ID&#39;</span>] <span class="op">==</span> row[<span class="st">&#39;TEAM_ID&#39;</span>]:</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    df_curry_away <span class="op">=</span> df_curry_away.append(row)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract home and away games for Kobe Bryant</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>df_kobe_home <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>df_kobe_away <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, row <span class="kw">in</span> df_kobe.iterrows():</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> row[<span class="st">&#39;HOME_TEAM_ID&#39;</span>] <span class="op">==</span> row[<span class="st">&#39;TEAM_ID&#39;</span>]:</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    df_kobe_home <span class="op">=</span> df_kobe_home.append(row)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> row[<span class="st">&#39;VISITOR_TEAM_ID&#39;</span>] <span class="op">==</span> row[<span class="st">&#39;TEAM_ID&#39;</span>]:</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    df_kobe_away <span class="op">=</span> df_kobe_away.append(row)</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract home and away games for LeBron James</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>df_lebron_home <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>df_lebron_away <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, row <span class="kw">in</span> df_lebron.iterrows():</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> row[<span class="st">&#39;HOME_TEAM_ID&#39;</span>] <span class="op">==</span> row[<span class="st">&#39;TEAM_ID&#39;</span>]:</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>    df_lebron_home <span class="op">=</span> df_lebron_home.append(row)</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> row[<span class="st">&#39;VISITOR_TEAM_ID&#39;</span>] <span class="op">==</span> row[<span class="st">&#39;TEAM_ID&#39;</span>]:</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>    df_lebron_away <span class="op">=</span> df_lebron_away.append(row)</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract home and away games for Kevin Durant</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>df_kd_home <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>df_kd_away <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, row <span class="kw">in</span> df_kd.iterrows():</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> row[<span class="st">&#39;HOME_TEAM_ID&#39;</span>] <span class="op">==</span> row[<span class="st">&#39;TEAM_ID&#39;</span>]:</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>    df_kd_home <span class="op">=</span> df_kd_home.append(row)</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> row[<span class="st">&#39;VISITOR_TEAM_ID&#39;</span>] <span class="op">==</span> row[<span class="st">&#39;TEAM_ID&#39;</span>]:</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>    df_kd_away <span class="op">=</span> df_kd_away.append(row)</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract home and away games for Jimmy Butler</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>df_jimmy_home <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>df_jimmy_away <span class="op">=</span> pd.DataFrame()</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, row <span class="kw">in</span> df_jimmy.iterrows():</span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> row[<span class="st">&#39;HOME_TEAM_ID&#39;</span>] <span class="op">==</span> row[<span class="st">&#39;TEAM_ID&#39;</span>]:</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>    df_jimmy_home <span class="op">=</span> df_jimmy_home.append(row)</span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> row[<span class="st">&#39;VISITOR_TEAM_ID&#39;</span>] <span class="op">==</span> row[<span class="st">&#39;TEAM_ID&#39;</span>]:</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>    df_jimmy_away <span class="op">=</span> df_jimmy_away.append(row)</span></code></pre></div>
</div>
<div class="cell code" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="iW43Qa26lc23" data-outputId="8d3c4b7f-0662-4605-f4b8-13b6f3c88d80">
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sanity Check</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Stephen Curry Total Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_curry)))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Stephen Curry Home Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_curry_home)))</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Stephen Curry Away Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_curry_away)) <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Kobe Bryant Total Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_kobe)))</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Kobe Bryant Home Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_kobe_home)))</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Kobe Bryant Away Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_kobe_away)) <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;LeBron James Total Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_lebron)))</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;LeBron James Home Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_lebron_home)))</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;LeBron James Away Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_lebron_away)) <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Kevin Durant Total Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_kd)))</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Kevin Durant Home Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_kd_home)))</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Kevin Durant Away Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_kd_away)) <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Jimmy Butler Total Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_jimmy)))</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Jimmy Butler Home Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_jimmy_home)))</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Jimmy Butler Away Games: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">len</span>(df_jimmy_away)))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Stephen Curry Total Games: 1047
Stephen Curry Home Games: 523
Stephen Curry Away Games: 524

Kobe Bryant Total Games: 1102
Kobe Bryant Home Games: 575
Kobe Bryant Away Games: 527

LeBron James Total Games: 1757
LeBron James Home Games: 894
LeBron James Away Games: 863

Kevin Durant Total Games: 1170
Kevin Durant Home Games: 589
Kevin Durant Away Games: 581

Jimmy Butler Total Games: 896
Jimmy Butler Home Games: 453
Jimmy Butler Away Games: 443
</code></pre>
</div>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:520,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="D0gzAwZuomjs" data-outputId="894cdc6e-a9ce-42d2-e1b5-036ad8788d74">
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plt.rcParams.update({<span class="st">&#39;font.size&#39;</span>: <span class="dv">12</span>})</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Points Scored</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Points Scored by Stephen Curry (Home vs. Away)</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>curry_pts_home <span class="op">=</span> df_curry_home[<span class="st">&#39;PTS&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_curry_home)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>curry_pts_away <span class="op">=</span> df_curry_away[<span class="st">&#39;PTS&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_curry_away)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Points Scored by Kobe Bryant (Home vs. Away)</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>kobe_pts_home <span class="op">=</span> df_kobe_home[<span class="st">&#39;PTS&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kobe_home)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>kobe_pts_away <span class="op">=</span> df_kobe_away[<span class="st">&#39;PTS&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kobe_away)</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Points Scored by LeBron James (Home vs. Away)</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>lebron_pts_home <span class="op">=</span> df_lebron_home[<span class="st">&#39;PTS&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_lebron_home)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>lebron_pts_away <span class="op">=</span> df_lebron_away[<span class="st">&#39;PTS&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_lebron_away)</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Points Scored by Kevin Durant (Home vs. Away)</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>kd_pts_home <span class="op">=</span> df_kd_home[<span class="st">&#39;PTS&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kd_home)</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>kd_pts_away <span class="op">=</span> df_kd_away[<span class="st">&#39;PTS&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kd_away)</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Points Scored by Jimmy Butler (Home vs. Away)</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>jimmy_pts_home <span class="op">=</span> df_jimmy_home[<span class="st">&#39;PTS&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_jimmy_home)</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>jimmy_pts_away <span class="op">=</span> df_jimmy_away[<span class="st">&#39;PTS&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_jimmy_away)</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Store values in respective lists</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>pts_home <span class="op">=</span> [curry_pts_home, kobe_pts_home, lebron_pts_home, kd_pts_home, jimmy_pts_home]</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>pts_away <span class="op">=</span> [curry_pts_away, kobe_pts_away, lebron_pts_away, kd_pts_away, jimmy_pts_away]</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Calibrate and graph</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>barWidth <span class="op">=</span> <span class="fl">0.25</span></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.subplots(figsize <span class="op">=</span> (<span class="dv">12</span>,<span class="dv">8</span>))</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>home <span class="op">=</span> np.arange(<span class="bu">len</span>(pts_home))</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>away <span class="op">=</span> [x <span class="op">+</span> barWidth <span class="cf">for</span> x <span class="kw">in</span> home]</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>plt.bar(home, pts_home, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, width<span class="op">=</span>barWidth, edgecolor<span class="op">=</span><span class="st">&#39;grey&#39;</span>, label<span class="op">=</span><span class="st">&#39;Home&#39;</span>)</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>plt.bar(away, pts_away, color<span class="op">=</span><span class="st">&#39;yellow&#39;</span>, width<span class="op">=</span>barWidth, edgecolor<span class="op">=</span><span class="st">&#39;grey&#39;</span>, label<span class="op">=</span><span class="st">&#39;Away&#39;</span>)</span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>plt.xticks([r <span class="op">+</span> barWidth <span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(pts_home))], [<span class="st">&#39;Stephen Curry&#39;</span>, <span class="st">&#39;Kobe Bryant&#39;</span>, <span class="st">&#39;LeBron James&#39;</span>, <span class="st">&#39;Kevin Durant&#39;</span>, <span class="st">&#39;Jimmy Butler&#39;</span>])</span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Points Scored Home vs. Away (2003 - 2022)&#39;</span>)</span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Player&#39;</span>)</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Number of Points Scored&#39;</span>)</span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/fd209bdd6244bd9c30724bc397d2a84d22fbd2e6.png" /></p>
</div>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:520,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="szze4NqJwVW8" data-outputId="c732fd62-4286-4a05-ae67-6209c5a33e48">
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Assists</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Assists by Stephen Curry (Home vs. Away)</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>curry_ast_home <span class="op">=</span> df_curry_home[<span class="st">&#39;AST&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_curry_home)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>curry_ast_away <span class="op">=</span> df_curry_away[<span class="st">&#39;AST&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_curry_away)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Assists by Kobe Bryant (Home vs. Away)</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>kobe_ast_home <span class="op">=</span> df_kobe_home[<span class="st">&#39;AST&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kobe_home)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>kobe_ast_away <span class="op">=</span> df_kobe_away[<span class="st">&#39;AST&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kobe_away)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Assists by LeBron James (Home vs. Away)</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>lebron_ast_home <span class="op">=</span> df_lebron_home[<span class="st">&#39;AST&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_lebron_home)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>lebron_ast_away <span class="op">=</span> df_lebron_away[<span class="st">&#39;AST&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_lebron_away)</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Assists by Kevin Durant (Home vs. Away)</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>kd_ast_home <span class="op">=</span> df_kd_home[<span class="st">&#39;AST&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kd_home)</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>kd_ast_away <span class="op">=</span> df_kd_away[<span class="st">&#39;AST&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kd_away)</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Assists by Jimmy Butler (Home vs. Away)</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>jimmy_ast_home <span class="op">=</span> df_jimmy_home[<span class="st">&#39;AST&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_jimmy_home)</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>jimmy_ast_away <span class="op">=</span> df_jimmy_away[<span class="st">&#39;AST&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_jimmy_away)</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Store values in respective lists</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>ast_home <span class="op">=</span> [curry_ast_home, kobe_ast_home, lebron_ast_home, kd_ast_home, jimmy_ast_home]</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>ast_away <span class="op">=</span> [curry_ast_away, kobe_ast_away, lebron_ast_away, kd_ast_away, jimmy_ast_away]</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Calibrate and graph</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.subplots(figsize <span class="op">=</span> (<span class="dv">12</span>,<span class="dv">8</span>))</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>plt.bar(home, ast_home, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, width<span class="op">=</span>barWidth, edgecolor<span class="op">=</span><span class="st">&#39;grey&#39;</span>, label<span class="op">=</span><span class="st">&#39;Home&#39;</span>)</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>plt.bar(away, ast_away, color<span class="op">=</span><span class="st">&#39;yellow&#39;</span>, width<span class="op">=</span>barWidth, edgecolor<span class="op">=</span><span class="st">&#39;grey&#39;</span>, label<span class="op">=</span><span class="st">&#39;Away&#39;</span>)</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>plt.xticks([r <span class="op">+</span> barWidth <span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(ast_home))], [<span class="st">&#39;Stephen Curry&#39;</span>, <span class="st">&#39;Kobe Bryant&#39;</span>, <span class="st">&#39;LeBron James&#39;</span>, <span class="st">&#39;Kevin Durant&#39;</span>, <span class="st">&#39;Jimmy Butler&#39;</span>])</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Assists Home vs. Away (2003 - 2022)&#39;</span>)</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Player&#39;</span>)</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Number of Assists&#39;</span>)</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/f94f947d9e4ae4a5b85a622978d893919aa3154a.png" /></p>
</div>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:520,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="cLnEe66fwY4R" data-outputId="94edee3c-1cbd-46da-e8c6-b2558945e547">
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Rebounds</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Rebounds by Stephen Curry (Home vs. Away)</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>curry_reb_home <span class="op">=</span> df_curry_home[<span class="st">&#39;REB&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_curry_home)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>curry_reb_away <span class="op">=</span> df_curry_away[<span class="st">&#39;REB&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_curry_away)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Rebounds by Kobe Bryant (Home vs. Away)</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>kobe_reb_home <span class="op">=</span> df_kobe_home[<span class="st">&#39;REB&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kobe_home)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>kobe_reb_away <span class="op">=</span> df_kobe_away[<span class="st">&#39;REB&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kobe_away)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Rebounds by LeBron James (Home vs. Away)</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>lebron_reb_home <span class="op">=</span> df_lebron_home[<span class="st">&#39;REB&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_lebron_home)</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>lebron_reb_away <span class="op">=</span> df_lebron_away[<span class="st">&#39;REB&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_lebron_away)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Rebounds by Kevin Durant (Home vs. Away)</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>kd_reb_home <span class="op">=</span> df_kd_home[<span class="st">&#39;REB&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kd_home)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>kd_reb_away <span class="op">=</span> df_kd_away[<span class="st">&#39;REB&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kd_away)</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Rebounds by Jimmy Butler (Home vs. Away)</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>jimmy_reb_home <span class="op">=</span> df_jimmy_home[<span class="st">&#39;REB&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_jimmy_home)</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>jimmy_reb_away <span class="op">=</span> df_jimmy_away[<span class="st">&#39;REB&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_jimmy_away)</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Store values in respective lists</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>reb_home <span class="op">=</span> [curry_reb_home, kobe_reb_home, lebron_reb_home, kd_reb_home, jimmy_reb_home]</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>reb_away <span class="op">=</span> [curry_reb_away, kobe_reb_away, lebron_reb_away, kd_reb_away, jimmy_reb_away]</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Calibrate and graph</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.subplots(figsize <span class="op">=</span> (<span class="dv">12</span>,<span class="dv">8</span>))</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>plt.bar(home, reb_home, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, width<span class="op">=</span>barWidth, edgecolor<span class="op">=</span><span class="st">&#39;grey&#39;</span>, label<span class="op">=</span><span class="st">&#39;Home&#39;</span>)</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>plt.bar(away, reb_away, color<span class="op">=</span><span class="st">&#39;yellow&#39;</span>, width<span class="op">=</span>barWidth, edgecolor<span class="op">=</span><span class="st">&#39;grey&#39;</span>, label<span class="op">=</span><span class="st">&#39;Away&#39;</span>)</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>plt.xticks([r <span class="op">+</span> barWidth <span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(reb_home))], [<span class="st">&#39;Stephen Curry&#39;</span>, <span class="st">&#39;Kobe Bryant&#39;</span>, <span class="st">&#39;LeBron James&#39;</span>, <span class="st">&#39;Kevin Durant&#39;</span>, <span class="st">&#39;Jimmy Butler&#39;</span>])</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Rebounds Home vs. Away (2003 - 2022)&#39;</span>)</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Player&#39;</span>)</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Number of Rebounds&#39;</span>)</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/0d7536add61df8aa83b452147ee8471e257ce4a4.png" /></p>
</div>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:520,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="H2J6jJAiwahm" data-outputId="3ec90636-69f7-4166-f65f-3f9ff50040e4">
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Field Goal Percentage</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Field Goal Percentage of Stephen Curry (Home vs. Away)</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>curry_fg_home <span class="op">=</span> df_curry_home[<span class="st">&#39;FG_PCT&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_curry_home) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>curry_fg_away <span class="op">=</span> df_curry_away[<span class="st">&#39;FG_PCT&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_curry_away) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Field Goal Percentage of Kobe Bryant (Home vs. Away)</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>kobe_fg_home <span class="op">=</span> df_kobe_home[<span class="st">&#39;FG_PCT&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kobe_home) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>kobe_fg_away <span class="op">=</span> df_kobe_away[<span class="st">&#39;FG_PCT&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kobe_away) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Field Goal Percentage of LeBron James (Home vs. Away)</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>lebron_fg_home <span class="op">=</span> df_lebron_home[<span class="st">&#39;FG_PCT&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_lebron_home) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>lebron_fg_away <span class="op">=</span> df_lebron_away[<span class="st">&#39;FG_PCT&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_lebron_away) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Field Goal Percentage of Kevin Durant (Home vs. Away)</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>kd_fg_home <span class="op">=</span> df_kd_home[<span class="st">&#39;FG_PCT&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kd_home) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>kd_fg_away <span class="op">=</span> df_kd_away[<span class="st">&#39;FG_PCT&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kd_away) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Field Goal Percentage of Jimmy Butler (Home vs. Away)</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>jimmy_fg_home <span class="op">=</span> df_jimmy_home[<span class="st">&#39;FG_PCT&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_jimmy_home) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>jimmy_fg_away <span class="op">=</span> df_jimmy_away[<span class="st">&#39;FG_PCT&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_jimmy_away) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Store values in respective lists</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>fg_home <span class="op">=</span> [curry_fg_home, kobe_fg_home, lebron_fg_home, kd_fg_home, jimmy_fg_home]</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>fg_away <span class="op">=</span> [curry_fg_away, kobe_fg_away, lebron_fg_away, kd_fg_away, jimmy_fg_away]</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Calibrate and graph</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.subplots(figsize <span class="op">=</span> (<span class="dv">12</span>,<span class="dv">8</span>))</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>plt.bar(home, fg_home, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, width<span class="op">=</span>barWidth, edgecolor<span class="op">=</span><span class="st">&#39;grey&#39;</span>, label<span class="op">=</span><span class="st">&#39;Home&#39;</span>)</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>plt.bar(away, fg_away, color<span class="op">=</span><span class="st">&#39;yellow&#39;</span>, width<span class="op">=</span>barWidth, edgecolor<span class="op">=</span><span class="st">&#39;grey&#39;</span>, label<span class="op">=</span><span class="st">&#39;Away&#39;</span>)</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>plt.xticks([r <span class="op">+</span> barWidth <span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(fg_home))], [<span class="st">&#39;Stephen Curry&#39;</span>, <span class="st">&#39;Kobe Bryant&#39;</span>, <span class="st">&#39;LeBron James&#39;</span>, <span class="st">&#39;Kevin Durant&#39;</span>, <span class="st">&#39;Jimmy Butler&#39;</span>])</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average FG Percentages Home vs. Away (2003 - 2022)&#39;</span>)</span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Player&#39;</span>)</span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Field Goal Percentage (%)&#39;</span>)</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/2eae63165aa7ee8c68c408f36f328b8da4d09cb9.png" /></p>
</div>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:520,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="dgt_jmVEwbqQ" data-outputId="9a523a11-20d4-4cc5-a540-1d675c3b877b">
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Steals</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Steals by Stephen Curry (Home vs. Away)</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>curry_stl_home <span class="op">=</span> df_curry_home[<span class="st">&#39;STL&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_curry_home)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>curry_stl_away <span class="op">=</span> df_curry_away[<span class="st">&#39;STL&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_curry_away)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Steals by Kobe Bryant (Home vs. Away)</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>kobe_stl_home <span class="op">=</span> df_kobe_home[<span class="st">&#39;STL&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kobe_home)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>kobe_stl_away <span class="op">=</span> df_kobe_away[<span class="st">&#39;STL&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kobe_away)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Steals by LeBron James (Home vs. Away)</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>lebron_stl_home <span class="op">=</span> df_lebron_home[<span class="st">&#39;STL&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_lebron_home)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>lebron_stl_away <span class="op">=</span> df_lebron_away[<span class="st">&#39;STL&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_lebron_away)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Steals by Kevin Durant (Home vs. Away)</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>kd_stl_home <span class="op">=</span> df_kd_home[<span class="st">&#39;STL&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kd_home)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>kd_stl_away <span class="op">=</span> df_kd_away[<span class="st">&#39;STL&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_kd_away)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Avg. Steals by Jimmy Butler (Home vs. Away)</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>jimmy_stl_home <span class="op">=</span> df_jimmy_home[<span class="st">&#39;STL&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_jimmy_home)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>jimmy_stl_away <span class="op">=</span> df_jimmy_away[<span class="st">&#39;STL&#39;</span>].<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(df_jimmy_away)</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Store values in respective lists</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>stl_home <span class="op">=</span> [curry_stl_home, kobe_stl_home, lebron_stl_home, kd_stl_home, jimmy_stl_home]</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>stl_away <span class="op">=</span> [curry_stl_away, kobe_stl_away, lebron_stl_away, kd_stl_away, jimmy_stl_away]</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Calibrate and graph</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.subplots(figsize <span class="op">=</span> (<span class="dv">12</span>,<span class="dv">8</span>))</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>plt.bar(home, stl_home, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, width<span class="op">=</span>barWidth, edgecolor<span class="op">=</span><span class="st">&#39;grey&#39;</span>, label<span class="op">=</span><span class="st">&#39;Home&#39;</span>)</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>plt.bar(away, stl_away, color<span class="op">=</span><span class="st">&#39;yellow&#39;</span>, width<span class="op">=</span>barWidth, edgecolor<span class="op">=</span><span class="st">&#39;grey&#39;</span>, label<span class="op">=</span><span class="st">&#39;Away&#39;</span>)</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>plt.xticks([r <span class="op">+</span> barWidth <span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(stl_home))], [<span class="st">&#39;Stephen Curry&#39;</span>, <span class="st">&#39;Kobe Bryant&#39;</span>, <span class="st">&#39;LeBron James&#39;</span>, <span class="st">&#39;Kevin Durant&#39;</span>, <span class="st">&#39;Jimmy Butler&#39;</span>])</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average Steals Home vs. Away (2003 - 2022)&#39;</span>)</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Player&#39;</span>)</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Average Number of Steals&#39;</span>)</span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/58f3b7dc34ff85be5b84ccbc5501032f97345311.png" /></p>
</div>
</div>
<div class="cell markdown" id="t1OksG2S4YEQ">
<p>By the looks of these graphs, it seems as if that being either home surrounded by fans or away doesn't have a substantial impact on these star players, possibly why they're "stars" in the first place.</p>
<p>Total Words: 36</p>
</div>
<section id="accounting-external-factors" class="cell markdown" id="cbZeQ1UDuXzQ">
<h2>Accounting External Factors</h2>
</section>
<section id="covid-19-pandemic" class="cell markdown" id="P8BpSLzKyDCi">
<h3>COVID-19 Pandemic</h3>
<p>On gameday, it's expected that teams, players, and fans put their focus on the game. Fans who attend live games prepare for them by purchasing and wearing the jersey of the team they support, covering themselves in bodypaint/facepaint, reserving seats ahead of time, and more. Fans put the effort in to show their support, and the players and teams understand and recognize these efforts.</p>
<p>Players/teams constantly thank their fans and even claim that they are the reason that their team may have won/lost that game. So, what if the attendance of fans was all of a sudden halted due to a global pandemic that changed the lives of teams, players, fans, etc.?</p>
<p>Here, I will measure the effects to which the COVID-19 global pandemic has had on home court advantage.</p>
<p>According to this <a href="https://www.nba.com/nba-returns-2020-faq">timeline</a> on Wikipedia (relative to COVID-19), on March 11th 2020, the NBA suspended the 2019-2020 season. Then on July 30th, the season resumed with only 22 teams playing and with no fans in attendance, ending that season on October 11th 2020 (last game of NBA Finals was played). Just from the difference among the typical dates for a NBA season to end compared to that of this season, any NBA fan knows that this season was like no other. Over the next season (2020-2021), fans were slowly brought back into stadiums and were back to full capacity by the end of the 2021-2022 season.</p>
</section>
<div class="cell markdown" id="zAhYLurU7FN8">
<p>To explore the effects of COVID-19 on home-court advantage, I will have three sub-datasets: data from 2019-2020 season, data from 2020-2021 season, and from a season before COVID-19</p>
</div>
<div class="cell code" id="tO4Sx4jJXsHd">
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to store copy in new dataframe</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>df_nba_games_nb <span class="op">=</span> df_nba_games</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2018 to 2019</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>df_season_2018_2019 <span class="op">=</span>  df_nba_games_nb[df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>] <span class="op">==</span> <span class="dv">2018</span>]</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 2019 to 2020 (after march 20, covid impact)</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>df_season_2019_2020 <span class="op">=</span> df_nba_games_nb[df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>] <span class="op">==</span> <span class="dv">2019</span>]</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2020 to 2021</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>df_season_2020_2021 <span class="op">=</span> df_nba_games_nb[df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>] <span class="op">==</span> <span class="dv">2020</span>]</span></code></pre></div>
</div>
<div class="cell markdown" id="DiDcA9ys7VuZ">
<p>The 'SEASON' column stores the starting year to represent the whole season. (i.e. 2020 is stored to represent the 2020-2021 season)</p>
<p>We will compare the number of home wins vs number of away wins across these three seasons by utilizing matplotlib and numpy.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:629,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="hyMeNcke7eDT" data-outputId="9df162de-8e53-4273-f311-35969a1ab3ab">
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>x_axis_labels_seasons <span class="op">=</span> [<span class="st">&#39;2018-19&#39;</span>, <span class="st">&#39;2019-2020&#39;</span>, <span class="st">&#39;2020-2021&#39;</span>]</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co"># gather number of home wins across the three seasons</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>y_axis_num_home_wins <span class="op">=</span> []</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>y_axis_num_home_wins.append(<span class="bu">len</span>(df_season_2018_2019[df_season_2018_2019[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">1</span>]) <span class="op">/</span> (<span class="bu">len</span>(df_season_2018_2019))   )</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>y_axis_num_home_wins.append(<span class="bu">len</span>(df_season_2019_2020[df_season_2019_2020[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">1</span>]) <span class="op">/</span> (<span class="bu">len</span>(df_season_2019_2020)) )</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>y_axis_num_home_wins.append(<span class="bu">len</span>(df_season_2020_2021[df_season_2020_2021[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">1</span>]) <span class="op">/</span> (<span class="bu">len</span>(df_season_2020_2021) ) )</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Helps keep pairs of bars in bar graph close</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>X_axis <span class="op">=</span> np.arange(<span class="bu">len</span>(x_axis_labels_seasons))</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="co"># gather number of away wins across the three seasons</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>z_axis_num_away_wins <span class="op">=</span> [] </span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>z_axis_num_away_wins.append(<span class="bu">len</span>(df_season_2018_2019[df_season_2018_2019[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">0</span>]) <span class="op">/</span> (<span class="bu">len</span>(df_season_2018_2019)) )</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>z_axis_num_away_wins.append(<span class="bu">len</span>(df_season_2019_2020[df_season_2019_2020[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">0</span>]) <span class="op">/</span> (<span class="bu">len</span>(df_season_2019_2020)))</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>z_axis_num_away_wins.append(<span class="bu">len</span>(df_season_2020_2021[df_season_2020_2021[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">0</span>]) <span class="op">/</span> (<span class="bu">len</span>(df_season_2020_2021)))</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>y_axis_num_home_wins <span class="op">=</span> [i<span class="op">*</span><span class="dv">100</span> <span class="cf">for</span> i <span class="kw">in</span> y_axis_num_home_wins]</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>z_axis_num_away_wins <span class="op">=</span> [i<span class="op">*</span><span class="dv">100</span> <span class="cf">for</span> i <span class="kw">in</span> z_axis_num_away_wins]</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a><span class="co"># gather number of home wins across the three seasons</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>plt.bar(X_axis <span class="op">-</span> <span class="fl">.2</span>, y_axis_num_home_wins, <span class="fl">0.4</span>, label <span class="op">=</span> <span class="st">&#39;Wins&#39;</span>)</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>plt.bar(X_axis <span class="op">+</span> <span class="fl">.2</span>, z_axis_num_away_wins, <span class="fl">0.4</span>, label <span class="op">=</span> <span class="st">&#39;Losses&#39;</span>)</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a><span class="co"># format pair of bars nicely with labbeled season</span></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>plt.xticks(X_axis, x_axis_labels_seasons)</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Seasons&#39;</span>)</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Percentage of Number of Wins&#39;</span>)</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Percentage of Number of Home and Away Wins In a Season&#39;</span>)</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/54c6110c03767242f3517d0b4199b654aac806ee.png" /></p>
</div>
</div>
<div class="cell markdown" id="Um7c-Osf7nHa">
<p>Based on the visualization above, there is a big difference in the number of home and away wins across the three seasons. The season without covid (the first pair of bars) produced a greater difference than the results of seasons impacted by COVID-19 (the other pairs). By plotting the winning and losing differences as percentages, the difference in number of games played in each season do not matter. With that, it is fair and valid to claim that home-court advantage does have an impact on the performances.</p>
<p>Things to consider:</p>
<ul>
<li>Teams may not have been playing at their full capacity for other reasons (injuries to key players for long durations, main players not being eligible for games due to catching COVID, players went for a long time without playing from suspension, pandemic/isolation negatively influencing the mental state of the players, etc.)</li>
</ul>
</div>
<section id="city-population" class="cell markdown" id="FD3UPnrwudA8">
<h3>City Population</h3>
</section>
<div class="cell markdown" id="c3GlZCFwo9rG">
<p>Not every city has the same amount of people. This means that they are more people likely to support their home team for the teams that are located in bigger cities. Bigger city teams also have bigger arenas. That's more people rooting for a team during their home games. One would assume that teams belonging to bigger populated cities would perform better during their home games than smaller-city teams. In this portion, we'll make a scatter plot on the population of a team's city (x-axis) (retrieved from <a href="https://hoop-social.com/nba-team-market-size-rankings/">here</a>) vs. the total all-time (2003-2022) home wins for that team (y-axis).</p>
<p>Total words: 102</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:667,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="4arENo0sqq5A" data-outputId="2de593ed-5c37-4c47-dc3a-084d4bd88975">
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hard-coding city populations</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>city_pop <span class="op">=</span> [<span class="dv">6166488</span>,<span class="dv">9458539</span>,<span class="dv">2550960</span>,<span class="dv">4731803</span>,<span class="dv">2932415</span>,<span class="dv">1232696</span>,<span class="dv">2492412</span>,<span class="dv">2608147</span>,<span class="dv">6020364</span>,<span class="dv">4873019</span>,<span class="dv">7066141</span>,<span class="dv">1346045</span>,<span class="dv">1270530</span>,<span class="dv">4948203</span>,<span class="dv">13214799</span>,<span class="dv">6102434</span>,<span class="dv">2636883</span>,<span class="dv">4319629</span>,<span class="dv">1575179</span>,<span class="dv">3654908</span>,<span class="dv">7573136</span>,<span class="dv">2363730</span>,<span class="dv">13214799</span>,<span class="dv">2074537</span>,<span class="dv">1408950</span>,<span class="dv">6280487</span>,<span class="dv">2048449</span>,<span class="dv">5928040</span>,<span class="dv">19216182</span>,<span class="dv">19216182</span>]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats[<span class="st">&#39;city_pop&#39;</span>] <span class="op">=</span> city_pop</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot graph</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>plt.rcParams[<span class="st">&#39;figure.figsize&#39;</span>] <span class="op">=</span> [<span class="dv">12</span>, <span class="dv">10</span>]</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> sns.regplot(df_nba_team_stats[<span class="st">&#39;city_pop&#39;</span>], df_nba_team_stats[<span class="st">&#39;home_wins&#39;</span>], dropna<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add labels to each point</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, txt <span class="kw">in</span> <span class="bu">enumerate</span>(df_nba_team_stats[<span class="st">&#39;teams&#39;</span>]):</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  ax.annotate(txt, (df_nba_team_stats[<span class="st">&#39;city_pop&#39;</span>][i], df_nba_team_stats[<span class="st">&#39;home_wins&#39;</span>][i]))</span></code></pre></div>
<div class="output stream stderr">
<pre><code>/usr/local/lib/python3.8/dist-packages/seaborn/_decorators.py:36: FutureWarning: Pass the following variables as keyword args: x, y. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  warnings.warn(
</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/7da95535f0e409b4b8eb8123dd1f7869e9967405.png" /></p>
</div>
</div>
<div class="cell markdown" id="yOJ465075lVg">
<p>There seems to be almost a negative correlation with a cities population and their corresponding NBA team's wins across 2003-2022. This suggests that there is a negative correlation between a city's population and the team's number of home wins.</p>
</div>
<section id="rise-of-smartphones-2007" class="cell markdown" id="qRVM94PhuecE">
<h3>Rise of Smartphones (2007)</h3>
<p>Technology. The reason why fans from all over the world are even able to tune in to watch their favorite teams and players play. Over time, technology has evolved to be something that we, as people, rely on. Whether it be something as small as finding the fastest route to a location to something as large as connecting with people across the world via media sites such as Instagram, Tik-Tok, etc.</p>
<p>Ever since the iPhone was announced in 2007, people have started to use their phones more. Even from our personal experiences when attending sports games, it is common for fans to focus their attention to their phones for minutes at a time. There are players who have been known to check their phones (messages, social media, etc) not too long before a game and during halftime. With these observations, as a group, we decided to explore the possibility of home-court advantage being influenced by fans engaging with their phones rather than the game. Furthermore, we will explore how this may even influence the players themselves.</p>
</section>
<div class="cell markdown" id="Jl2a6EoZ9UL9">
<p>To explore the possible differences between life before and life after the iPhone was introduced; we will retrieve data across all seasons. We will count the number of home games won across the league during a season by accumulating the appropriate values for each season. To start this process, I will sort the values in ascendidng order by date then group by the season.</p>
</div>
<div class="cell code" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="vCgXg7RV8A5q" data-outputId="a656c594-74c5-4332-c624-b3d736fe43c6">
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># store years in ascending order</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>lst_years_in_asc <span class="op">=</span> ((df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>].unique()).tolist())</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>lst_years_in_asc.sort()</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co"># stores k-v pair: seasons with number of home wins </span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>map_seasons_num_of_home_wins <span class="op">=</span> {}  </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate through dataframe to store and update key-value pairs</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (_ , row) <span class="kw">in</span> df_nba_games_nb.iterrows():</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get the season of the current row</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  season_curr_row <span class="op">=</span> row[<span class="st">&#39;SEASON&#39;</span>]</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  val <span class="op">=</span> map_seasons_num_of_home_wins.get(season_curr_row)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if there is no value (if the key doesn&#39;t exist) -&gt; insert pair with val = 0</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (val <span class="op">==</span> <span class="va">None</span>):</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    map_seasons_num_of_home_wins.update( { season_curr_row : <span class="dv">1</span> } )</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    map_seasons_num_of_home_wins.update( { season_curr_row : val <span class="op">+</span> <span class="dv">1</span>  } )</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Season and number of home wins: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(map_seasons_num_of_home_wins))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Season and number of home wins: {2021: 1076, 2020: 1249, 2019: 1241, 2013: 1427, 2012: 1420, 2011: 1104, 2010: 1422, 2009: 1424, 2008: 1425, 2007: 1411, 2006: 1419, 2005: 1432, 2004: 1362, 2003: 1385, 2018: 1378, 2017: 1382, 2016: 1405, 2015: 1416, 2014: 1418}
</code></pre>
</div>
</div>
<div class="cell markdown" id="JjI0Gndc9eH5">
<p>By importing <a href="https://docs.python.org/3/library/collections.html">OrderedDict</a>, we are able to easily reconstruct a dictionary in ascending order. This will help in plotting the number of home wins (per season) over time.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:629,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="aysE_Ql59mwl" data-outputId="8c8777a9-50de-4973-b5f7-800ce1ad3734">
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> OrderedDict</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># order dictionary to store list of tuples (year, number of home wins)</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>map_seasons_num_of_home_wins_ordered <span class="op">=</span> OrderedDict(<span class="bu">sorted</span>(map_seasons_num_of_home_wins.items()))</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co"># store number of home wins per season</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>num_home_wins_plot <span class="op">=</span> []</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co"># since we have list of years in ascending order and map is ordered</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (_, val) <span class="kw">in</span> map_seasons_num_of_home_wins_ordered.items():</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  num_home_wins_plot.append(val)  <span class="co"># add value</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co"># store list of seasons and list of home wins across all teams per seasons  </span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>x_axis_seasons <span class="op">=</span> lst_years_in_asc</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>y_axis_num_wins <span class="op">=</span> num_home_wins_plot</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="co">#X_axis = np.arange(len(x_axis_seasons))</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="co"># helps set bounds of x and y axis</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="co">#print(np.arange(2002, 20, 1))</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>x_ticks <span class="op">=</span> lst_years_in_asc</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>y_ticks <span class="op">=</span> np.arange(<span class="dv">1000</span>, <span class="dv">10</span>, <span class="dv">1</span>)</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>plt.plot(x_axis_seasons, y_axis_num_wins)</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Number of Home Wins Per Season&#39;</span>)</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Seasons&#39;</span>)</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Home Wins&#39;</span>)</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.xticks(X_axis, x_ticks)</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.yticks(y_ticks)</span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/814f4620c09b49c3d21f8da6623e79975fc87030.png" /></p>
</div>
</div>
<section id="celebrity-impact" class="cell markdown" id="pczNnYApzdmW">
<h3>Celebrity Impact</h3>
<p>Sometimes, when fans from home are watching an NBA game, it is common to see celebrities sitting courtside. They get to watch the game live and as close to the action as possible. Celebrities are fans too so it is fair to say that there may be some celebrities that express their love or hate for the team they are supporting for or against, respectively. Well, there is one celebrity who makes the most of the opportunity: Kevin Hart.</p>
<p>Yes, Kevin Hart. The comedian/actor has gathered a reputation for being a menace on the sidelines. Kevin Hart has even admitted to it. From clips of <a href="https://www.youtube.com/watch?v=XyKegi4c7ig">this video</a>, you can get a sense of how influential a fan in a courtside seat (e.g. Kevin Hart) can be.</p>
<p>With that, to have a little more fun with this project (if that's even possible!), we wanted to determine how significant Kevin Hart's presence may be relative to home court advantage.</p>
<p>To start, we had to identify the dates where Kevin Hart had been known to sit courtside. We refer to the results of games in the video.</p>
</section>
<div class="cell code" data-colab="{&quot;height&quot;:299,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="K_0nR1jc-Eg4" data-outputId="a1bbad57-38a2-48dd-f7ef-57e631276ed7">
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># get original teams df and amke copy</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>df_nba_teams_nb <span class="op">=</span> df_nba_teams</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># will store home and away teams to be added to dataframe </span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>lst_home_teams <span class="op">=</span> []</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>lst_visitor_teams <span class="op">=</span> []</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate through to find team names</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index, row) <span class="kw">in</span> df_nba_games_nb.iterrows():</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># retrieve home and away teams</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  home_team_id <span class="op">=</span> row[<span class="st">&#39;HOME_TEAM_ID&#39;</span>]</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  visitor_team_id <span class="op">=</span> row[<span class="st">&#39;VISITOR_TEAM_ID&#39;</span>]</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># access teams in teams df to retrieve nickname about the team </span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  home_team_name <span class="op">=</span> (df_nba_teams_nb.loc[df_nba_teams_nb[<span class="st">&#39;TEAM_ID&#39;</span>] <span class="op">==</span> home_team_id])[<span class="st">&#39;NICKNAME&#39;</span>]</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  visitor_team_name <span class="op">=</span> (df_nba_teams_nb.loc[df_nba_teams_nb[<span class="st">&#39;TEAM_ID&#39;</span>] <span class="op">==</span> visitor_team_id])[<span class="st">&#39;NICKNAME&#39;</span>]</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># store home and visiting team names in respective columns</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  lst_home_teams.append((home_team_name.tolist())[<span class="dv">0</span>])</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  lst_visitor_teams.append((visitor_team_name.tolist())[<span class="dv">0</span>])</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="co"># add the new columns to the games df</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>df_nba_games_nb[<span class="st">&#39;HOME_TEAM_NAME&#39;</span>] <span class="op">=</span> lst_home_teams</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>df_nba_games_nb[<span class="st">&#39;VISITOR_TEAM_NAME&#39;</span>] <span class="op">=</span> lst_visitor_teams</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>df_nba_games_nb.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="155">

  <div id="df-5ecd296d-0953-46c7-8f64-60f06cc99224">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GAME_ID</th>
      <th>HOME_TEAM_ID</th>
      <th>VISITOR_TEAM_ID</th>
      <th>SEASON</th>
      <th>TEAM_ID_home</th>
      <th>PTS_home</th>
      <th>FG_PCT_home</th>
      <th>FT_PCT_home</th>
      <th>FG3_PCT_home</th>
      <th>AST_home</th>
      <th>...</th>
      <th>PTS_away</th>
      <th>FG_PCT_away</th>
      <th>FT_PCT_away</th>
      <th>FG3_PCT_away</th>
      <th>AST_away</th>
      <th>REB_away</th>
      <th>HOME_TEAM_WINS</th>
      <th>GAME_DATE_EST</th>
      <th>HOME_TEAM_NAME</th>
      <th>VISITOR_TEAM_NAME</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>22101005</td>
      <td>1610612748</td>
      <td>1610612750</td>
      <td>2021</td>
      <td>1610612748</td>
      <td>104.0</td>
      <td>0.398</td>
      <td>0.760</td>
      <td>0.333</td>
      <td>23.0</td>
      <td>...</td>
      <td>113.0</td>
      <td>0.422</td>
      <td>0.875</td>
      <td>0.357</td>
      <td>21.0</td>
      <td>46.0</td>
      <td>0</td>
      <td>2022-03-12</td>
      <td>Heat</td>
      <td>Timberwolves</td>
    </tr>
    <tr>
      <th>1</th>
      <td>22101006</td>
      <td>1610612741</td>
      <td>1610612739</td>
      <td>2021</td>
      <td>1610612741</td>
      <td>101.0</td>
      <td>0.443</td>
      <td>0.933</td>
      <td>0.429</td>
      <td>20.0</td>
      <td>...</td>
      <td>91.0</td>
      <td>0.419</td>
      <td>0.824</td>
      <td>0.208</td>
      <td>19.0</td>
      <td>40.0</td>
      <td>1</td>
      <td>2022-03-12</td>
      <td>Bulls</td>
      <td>Cavaliers</td>
    </tr>
    <tr>
      <th>2</th>
      <td>22101007</td>
      <td>1610612759</td>
      <td>1610612754</td>
      <td>2021</td>
      <td>1610612759</td>
      <td>108.0</td>
      <td>0.412</td>
      <td>0.813</td>
      <td>0.324</td>
      <td>28.0</td>
      <td>...</td>
      <td>119.0</td>
      <td>0.489</td>
      <td>1.000</td>
      <td>0.389</td>
      <td>23.0</td>
      <td>47.0</td>
      <td>0</td>
      <td>2022-03-12</td>
      <td>Spurs</td>
      <td>Pacers</td>
    </tr>
    <tr>
      <th>3</th>
      <td>22101008</td>
      <td>1610612744</td>
      <td>1610612749</td>
      <td>2021</td>
      <td>1610612744</td>
      <td>122.0</td>
      <td>0.484</td>
      <td>0.933</td>
      <td>0.400</td>
      <td>33.0</td>
      <td>...</td>
      <td>109.0</td>
      <td>0.413</td>
      <td>0.696</td>
      <td>0.386</td>
      <td>27.0</td>
      <td>39.0</td>
      <td>1</td>
      <td>2022-03-12</td>
      <td>Warriors</td>
      <td>Bucks</td>
    </tr>
    <tr>
      <th>4</th>
      <td>22101009</td>
      <td>1610612743</td>
      <td>1610612761</td>
      <td>2021</td>
      <td>1610612743</td>
      <td>115.0</td>
      <td>0.551</td>
      <td>0.750</td>
      <td>0.407</td>
      <td>32.0</td>
      <td>...</td>
      <td>127.0</td>
      <td>0.471</td>
      <td>0.760</td>
      <td>0.387</td>
      <td>28.0</td>
      <td>50.0</td>
      <td>0</td>
      <td>2022-03-12</td>
      <td>Nuggets</td>
      <td>Raptors</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 22 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-5ecd296d-0953-46c7-8f64-60f06cc99224')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-5ecd296d-0953-46c7-8f64-60f06cc99224 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-5ecd296d-0953-46c7-8f64-60f06cc99224');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="wTIYXqrr-ItG">
<p>Now that we have the names of the teams with the games they've played, it will help extract the data of the games that we are looking for. So, let's get the games which Kevin Hart has been a nuisance in. For clarity, we had to hardcode the dates because there was no existing dataframe which stores the games where Kevin Hart has sat courtside; and we were only able to find six games where Kevin Hart has sat courtside.</p>
</div>
<div class="cell code" id="ITPVqAOe-RGl">
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># will store rows </span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co"># list of for kevin hart results</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>lst_kevin_hart <span class="op">=</span> [] </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co"># - Warriors v 76ers in 2017 (Feb 27 2017)</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#a = df_nba_games_nb[(df_nba_games_nb[&#39;SEASON&#39;] == 2017) &amp; (df_nba_games_nb[&#39;HOME_TEAM_NAME&#39;] == &#39;76ers&#39;) &amp; (df_nba_games_nb[&#39;VISITOR_TEAM_NAME&#39;] == &#39;Warriors&#39;)]</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>war_76ers_row <span class="op">=</span> df_nba_games_nb[(df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>] <span class="op">==</span> <span class="dv">2016</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;HOME_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;76ers&#39;</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;VISITOR_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;Warriors&#39;</span>) ]</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>(lst_kevin_hart.append(war_76ers_row))</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="co"># heat v 76ers (Apr 16 2018)</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>heat_76ers_date <span class="op">=</span> (datetime.datetime(<span class="dv">2018</span>, <span class="dv">4</span>, <span class="dv">16</span>)).date()</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>heat_76ers_row <span class="op">=</span> df_nba_games_nb[(df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>] <span class="op">==</span> <span class="dv">2017</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;HOME_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;76ers&#39;</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;VISITOR_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;Heat&#39;</span>) <span class="op">&amp;</span> ( df_nba_games_nb[<span class="st">&#39;GAME_DATE_EST&#39;</span>]<span class="op">==</span> heat_76ers_date)]</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>lst_kevin_hart.append(heat_76ers_row)</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="co"># another heat v 76ers game (Apr 24 2018))</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>another_heat_76ers_date <span class="op">=</span> (datetime.datetime(<span class="dv">2018</span>, <span class="dv">4</span>, <span class="dv">24</span>)).date()</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>another_heat_76ers_row <span class="op">=</span> df_nba_games_nb[(df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>] <span class="op">==</span> <span class="dv">2017</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;HOME_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;76ers&#39;</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;VISITOR_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;Heat&#39;</span>) <span class="op">&amp;</span> ( df_nba_games_nb[<span class="st">&#39;GAME_DATE_EST&#39;</span>]<span class="op">==</span> another_heat_76ers_date)]</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>lst_kevin_hart.append(another_heat_76ers_row)</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Harden vs 76ers in 2017 (Jan 27 2017)</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>rockets_76ers_date <span class="op">=</span> (datetime.datetime(<span class="dv">2017</span>, <span class="dv">1</span>, <span class="dv">27</span>)).date()</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>rockets_76ers_row <span class="op">=</span> df_nba_games_nb[(df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>] <span class="op">==</span> <span class="dv">2016</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;HOME_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;76ers&#39;</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;VISITOR_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;Rockets&#39;</span>) <span class="op">&amp;</span> ( df_nba_games_nb[<span class="st">&#39;GAME_DATE_EST&#39;</span>]<span class="op">==</span> rockets_76ers_date)]</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>lst_kevin_hart.append(rockets_76ers_row)</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 76ers vs Celtis (May 3 2018)</span></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>philly_celtics_date <span class="op">=</span> (datetime.datetime(<span class="dv">2018</span>, <span class="dv">5</span>, <span class="dv">3</span>)).date()</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>philly_celtics_row <span class="op">=</span> df_nba_games_nb[(df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>] <span class="op">==</span> <span class="dv">2017</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;HOME_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;Celtics&#39;</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;VISITOR_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;76ers&#39;</span>) <span class="op">&amp;</span> ( df_nba_games_nb[<span class="st">&#39;GAME_DATE_EST&#39;</span>]<span class="op">==</span> philly_celtics_date)]</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>lst_kevin_hart.append(philly_celtics_row)</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 76ers v Lakers (Nov 15 2017)</span></span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>philly_lakers_date <span class="op">=</span> (datetime.datetime(<span class="dv">2017</span>, <span class="dv">11</span>, <span class="dv">15</span>)).date()</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>philly_lakers_row <span class="op">=</span> df_nba_games_nb[(df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>] <span class="op">==</span> <span class="dv">2017</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;HOME_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;Lakers&#39;</span>) <span class="op">&amp;</span> (df_nba_games_nb[<span class="st">&#39;VISITOR_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;76ers&#39;</span>) <span class="op">&amp;</span> ( df_nba_games_nb[<span class="st">&#39;GAME_DATE_EST&#39;</span>]<span class="op">==</span> philly_lakers_date)]</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>lst_kevin_hart.append(philly_lakers_row)</span></code></pre></div>
</div>
<div class="cell markdown" id="Lf9kBHWc-RvH">
<p>Now that we have a list of the results of games where Kevin Hart may have had an influence, we can graph the results of that data. We will store the rows in a new dataframe to be able to iterate and identify the results.</p>
</div>
<div class="cell code" id="Lu4usuJT-azj">
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dataframe to store rows of kevin-hart games</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>df_kevin_hart <span class="op">=</span> pd.DataFrame()</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># store all the gathered rows into a separate dataframe</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>df_kevin_hart <span class="op">=</span> (pd.concat(lst_kevin_hart, ignore_index<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co"># will store results of kevin hart appeareances</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>lst_kevin_hart_results <span class="op">=</span> []</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate through to determine whether the game Kevin Hart attended courtside resulted in a win or loss for 76ers</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index, row) <span class="kw">in</span> df_kevin_hart.iterrows():</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ( ( (row[<span class="st">&#39;HOME_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;76ers&#39;</span> ) <span class="kw">and</span> ( row[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">1</span> ) ) <span class="kw">or</span> ( (row[<span class="st">&#39;VISITOR_TEAM_NAME&#39;</span>] <span class="op">==</span> <span class="st">&#39;76ers&#39;</span> ) <span class="kw">and</span> ( row[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">0</span> ) ) ):</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    lst_kevin_hart_results.append(<span class="dv">1</span>)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>    lst_kevin_hart_results.append(<span class="dv">0</span>)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="co"># store list of results where kevin hart</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>df_kevin_hart[<span class="st">&#39;KEVIN_HART_RESULTS&#39;</span>] <span class="op">=</span> lst_kevin_hart_results</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_kevin_hart.head(<span class="dv">6</span>))</span></code></pre></div>
</div>
<div class="cell markdown" id="-ksuRSdk-bdB">
<p>With this new dataframe, we can now construct a pie chart to represent the outcomes of the games which Kevin Hart was present for.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:271,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="LPmkml9B-nY8" data-outputId="39a3e96e-7f42-4506-c2be-ba63f484dd07">
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># stores wins and losses</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>wins <span class="op">=</span> lst_kevin_hart_results.count(<span class="dv">1</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>losses <span class="op">=</span> lst_kevin_hart_results.count(<span class="dv">0</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># vals store w/l to be stored for pie chart</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>vals <span class="op">=</span> np.array([wins, losses])</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>pieLabels <span class="op">=</span> [<span class="st">&quot;Wins&quot;</span>, <span class="st">&quot;Losses&quot;</span>]</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>[<span class="dv">4</span>,<span class="dv">6</span>])</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;76ers Wins and Losses with Kevin Hart Courtside&#39;</span>)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>plt.pie(vals, labels <span class="op">=</span> pieLabels, startangle <span class="op">=</span> <span class="dv">90</span>)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>plt.show() </span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/003e2b73132cc5078fed644fa172b1cf9f835881.png" /></p>
</div>
</div>
<div class="cell markdown" id="qm5DQd9_jkF3">
<p>By constructing the graph, we found that a celebrity sitting courtside (Kevin Hart) has a negative influence on the outcome of hsi beloved 76ers.</p>
</div>
<section id="hypothesis-testing" class="cell markdown" id="L7QLQbvZuj0Y">
<h1>Hypothesis Testing</h1>
</section>
<div class="cell markdown" id="AQfg79ZEG4BT">
<p>We wanted to compare the average number of home game wins across all seasons per NBA team to that of their away games. To do that, we would use a two-sample hypothesis test. Specifically, a two-sample T-test since the population variances are unknown and the sample sizes are small.</p>
<p>The null hypothesis in this case would be that there is no difference between the average home game wins and away game wins for NBA teams. The alternative hypothesis would be that there is a difference between the average home game wins and away game wins for NBA teams.</p>
<p>To perform the hypothesis test, we would calculate the means and standard deviations for the two samples (home game wins and away game wins). Then, we would use two-sample T-test to determine whether the difference between the means is statistically significant, based on the observed data. If the difference is statistically significant (p-value &lt; 0.05), we can reject the null hypothesis and conclude that there is a difference between the average home game wins and away game wins for NBA teams. If the difference is not statistically significant (p-value &gt;= 0.05), we accept the null hypothesis and must conclude that there is no difference between the two samples.</p>
<p>To conduct our two-sample T-test we used <a href="https://scipy.org/">SciPy</a>, a free and open-source Python library used for scientific computing and technical computing alongside <a href="https://docs.python.org/3/library/statistics.html">Statistics</a>, a module that provides functions for calculating mathematical statistics (e.g. standard deviation).</p>
<p>Number of words: 253</p>
</div>
<div class="cell code" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="SURpAKYSJgYK" data-outputId="fe7fa4f6-b28c-4969-879d-dc1e54f9696a">
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statistics</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the average number of home and away wins for each team across all seasons, respectively</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>num_seasons <span class="op">=</span> <span class="bu">len</span>(df_nba_games[<span class="st">&#39;SEASON&#39;</span>].unique())</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats[<span class="st">&#39;avg_home_wins&#39;</span>] <span class="op">=</span> df_nba_team_stats[<span class="st">&#39;home_wins&#39;</span>] <span class="op">/</span> num_seasons</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats[<span class="st">&#39;avg_away_wins&#39;</span>] <span class="op">=</span> df_nba_team_stats[<span class="st">&#39;away_wins&#39;</span>] <span class="op">/</span> num_seasons</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean and standard deviation of the average home wins logged</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>avg_home <span class="op">=</span> df_nba_team_stats[<span class="st">&#39;avg_home_wins&#39;</span>].mean()</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>sd_home <span class="op">=</span> statistics.stdev(df_nba_team_stats[<span class="st">&#39;avg_home_wins&#39;</span>])</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean and standard deviation of the average away wins logged</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>avg_away <span class="op">=</span> df_nba_team_stats[<span class="st">&#39;avg_away_wins&#39;</span>].mean()</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>sd_away <span class="op">=</span> statistics.stdev(df_nba_team_stats[<span class="st">&#39;avg_away_wins&#39;</span>])</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Conduct T-test</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>_, p_value <span class="op">=</span> stats.ttest_ind(a<span class="op">=</span>df_nba_team_stats[<span class="st">&#39;avg_home_wins&#39;</span>], b<span class="op">=</span>df_nba_team_stats[<span class="st">&#39;avg_away_wins&#39;</span>], equal_var<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Print values</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Average Home Wins Per Season: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(avg_home))</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Standard Deviation for the Average Home Wins Per Season: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(sd_home) <span class="op">+</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Average Away Wins Per Season: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(avg_away))</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Standard Deviation for the Average Away Wins Per Season: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(sd_away) <span class="op">+</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;p-value: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(p_value))</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<div class="output stream stdout">
<pre><code>Average Home Wins Per Season: 26.587719298245613
Standard Deviation for the Average Home Wins Per Season: 3.7736380999223877

Average Away Wins Per Season: 18.66842105263158
Standard Deviation for the Average Away Wins Per Season: 2.9763017886929775

p-value: 1.92230336117978e-12
</code></pre>
</div>
</div>
<div class="cell markdown" id="yKkw0_O4gclc">
<p>The average home wins across the NBA per season was 26.59 while the average away wins per season was 18.67. According to SciPy's two-sample T-test, the p-value was nearly 0. This means that the difference between these two samples were significantly different and that we can completely reject the null hypothesis and conclude that there is a difference between the average home wins across the seasons in the NBA and the average away wins.</p>
<p>Number of words: 76</p>
</div>
<section id="whos-making-it-to-the-playoffs-this-season" class="cell markdown" id="Ccb3bstuEJuT">
<h3>Who's making it to the Playoffs this season?</h3>
<p>We need to determine the teams that have made it to the playoffs in the past seasons. To do that, we need to determine which teams are on the Eastern Conference and which teams are on the Western Conference.</p>
<p>To initiate this process, we will read in a table from <a href="&#39;https://en.wikipedia.org/wiki/Eastern_Conference_(NBA)&#39;">this link</a> which stores which teams are on the Eastern Conference. Since there are only two conferences; whichever teams are not in the Eastern Conference have to be in the Western Conference. We will import the <a href="https://requests.readthedocs.io/en/latest/">Requests</a> module to conduct HTTP requests (get, post, etc) and the <a href="https://realpython.com/beautiful-soup-web-scraper-python/">BeautifulSoup</a> module to parse the html data that will be retrieved from the url.</p>
</section>
<div class="cell code" data-colab="{&quot;height&quot;:206,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="vblDKh6vEJ_j" data-outputId="71ad8b9d-729b-4d87-b916-3b613d4eba7b">
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import necessary packages</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests <span class="im">as</span> rq</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># use requests to get url</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>wiki_eastern_conf_pg <span class="op">=</span> rq.get(<span class="st">&#39;https://en.wikipedia.org/wiki/Eastern_Conference_(NBA)&#39;</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the text from the page</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>textFromPage <span class="op">=</span> wiki_eastern_conf_pg.content</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Use BeautifulSoup to read and parse the data, either as html or lxml</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(textFromPage, <span class="st">&#39;html.parser&#39;</span>)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Use prettify() to view the content and find the appropriate table</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>soup.prettify()</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Use find() to save the aforementioned table as a variable</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>desiredTable <span class="op">=</span> soup.find(<span class="st">&quot;table&quot;</span>, {<span class="st">&quot;class&quot;</span> : <span class="st">&quot;wikitable sortable&quot;</span>})</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Use pandas to read in the HTML file.</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>listWithDf <span class="op">=</span> pd.read_html(<span class="bu">str</span>(desiredTable))  <span class="co"># returns a list of size one (one element is a dataframe)</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>dataframe_eastern_conf_teams <span class="op">=</span> listWithDf[<span class="dv">0</span>]  <span class="co"># stores dataframe</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Set reasonable names for the table columns, </span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>dataframe_eastern_conf_teams.columns <span class="op">=</span> [<span class="st">&#39;Team&#39;</span> , <span class="st">&#39;Division&#39;</span>, <span class="st">&#39;Location&#39;</span>, <span class="st">&#39;Year Joined&#39;</span>, <span class="st">&#39;Conference Joined From&#39;</span>]</span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>dataframe_eastern_conf_teams.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="160">

  <div id="df-5fda6b0e-5392-4833-bbf3-a52977fe373c">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Team</th>
      <th>Division</th>
      <th>Location</th>
      <th>Year Joined</th>
      <th>Conference Joined From</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Atlanta Hawks</td>
      <td>Southeast</td>
      <td>Atlanta, Georgia</td>
      <td>1970–present</td>
      <td>Western Division</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Boston Celtics</td>
      <td>Atlantic</td>
      <td>Boston, Massachusetts</td>
      <td>1970–present</td>
      <td>Eastern Division</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Brooklyn Nets</td>
      <td>Atlantic</td>
      <td>Brooklyn, New York</td>
      <td>1976–present</td>
      <td>ABA</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Charlotte Hornets</td>
      <td>Southeast</td>
      <td>Charlotte, North Carolina</td>
      <td>1988–2002; 2004–present</td>
      <td>—</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Chicago Bulls</td>
      <td>Central</td>
      <td>Chicago, Illinois</td>
      <td>1980–present</td>
      <td>Western Conference</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-5fda6b0e-5392-4833-bbf3-a52977fe373c')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-5fda6b0e-5392-4833-bbf3-a52977fe373c button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-5fda6b0e-5392-4833-bbf3-a52977fe373c');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="hvtwg0nWE4cS">
<p>Now, we have a list of teams that are currently in the Eastern Conference. Let's drop the 'Year Joined' and 'Conference Joined From' columns since they are deemed irrelevant to determining whether a team will make the playoffs. Also, let's modify the 'Team' column so that it only stores the nickname of the team so that it will be easier to map to the dataframes we have created before.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:206,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="cwdEsyTpE7fN" data-outputId="e4011da4-d2e0-4620-8dfa-1fa814a22be7">
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># store as list</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>eastern_conf_teams <span class="op">=</span> dataframe_eastern_conf_teams[<span class="st">&#39;Team&#39;</span>].values.tolist()</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate through list to modify list to only store nicknames</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(eastern_conf_teams)):</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  team_name_as_list <span class="op">=</span> (eastern_conf_teams[i].split(<span class="st">&#39; &#39;</span>))  <span class="co"># store official name as lst </span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the nickname of every team is the last string so we can delimit and only store the last string</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  eastern_conf_teams[i] <span class="op">=</span> team_name_as_list[<span class="bu">len</span>(team_name_as_list) <span class="op">-</span> <span class="dv">1</span>]</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co"># update &#39;Team&#39; column to store nicknames</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>dataframe_eastern_conf_teams[<span class="st">&#39;Team&#39;</span>] <span class="op">=</span> (eastern_conf_teams)</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>dataframe_eastern_conf_teams.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="161">

  <div id="df-374cf721-a48e-4a65-8906-10879c4154c4">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Team</th>
      <th>Division</th>
      <th>Location</th>
      <th>Year Joined</th>
      <th>Conference Joined From</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Hawks</td>
      <td>Southeast</td>
      <td>Atlanta, Georgia</td>
      <td>1970–present</td>
      <td>Western Division</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Celtics</td>
      <td>Atlantic</td>
      <td>Boston, Massachusetts</td>
      <td>1970–present</td>
      <td>Eastern Division</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Nets</td>
      <td>Atlantic</td>
      <td>Brooklyn, New York</td>
      <td>1976–present</td>
      <td>ABA</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Hornets</td>
      <td>Southeast</td>
      <td>Charlotte, North Carolina</td>
      <td>1988–2002; 2004–present</td>
      <td>—</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Bulls</td>
      <td>Central</td>
      <td>Chicago, Illinois</td>
      <td>1980–present</td>
      <td>Western Conference</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-374cf721-a48e-4a65-8906-10879c4154c4')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-374cf721-a48e-4a65-8906-10879c4154c4 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-374cf721-a48e-4a65-8906-10879c4154c4');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="EAJvb7UTE-bT">
<p>Now, let's add a column to this dataframe to easily identify whether a team is in the Eastern or Western Conference</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:206,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="NZ9lCVJWFBtM" data-outputId="59a6870e-8795-49bd-f5ce-48693d166436">
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># copy dataframe</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats_nb <span class="op">=</span> df_nba_team_stats</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>lst_exist_in_east_or_west <span class="op">=</span> []  <span class="co"># stores results of whether team in eastern conf</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate through to determine whether a team exists in the eastern or western conference </span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index, row) <span class="kw">in</span> df_nba_team_stats_nb.iterrows():</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (row[<span class="st">&#39;teams&#39;</span>] <span class="kw">in</span>  eastern_conf_teams): <span class="co"># 1 if team in East ; 0 if in West </span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    lst_exist_in_east_or_west.append(<span class="dv">1</span>)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    lst_exist_in_east_or_west.append(<span class="dv">0</span>)</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co"># adds list as new col </span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats_nb[<span class="st">&#39;Is_Team_In_Eastern_Conf&#39;</span>] <span class="op">=</span> lst_exist_in_east_or_west</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats_nb.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="162">

  <div id="df-0d383a70-54f8-468a-8dfa-788dfd480277">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>teams</th>
      <th>team_id</th>
      <th>team_city</th>
      <th>home_wins</th>
      <th>home_losses</th>
      <th>away_wins</th>
      <th>away_losses</th>
      <th>ratio</th>
      <th>greater_than_zero</th>
      <th>city_pop</th>
      <th>avg_home_wins</th>
      <th>avg_away_wins</th>
      <th>Is_Team_In_Eastern_Conf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Heat</td>
      <td>1610612748</td>
      <td>Miami</td>
      <td>609</td>
      <td>313</td>
      <td>428</td>
      <td>480</td>
      <td>0.321041</td>
      <td>&gt;0</td>
      <td>6166488</td>
      <td>32.052632</td>
      <td>22.526316</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bulls</td>
      <td>1610612741</td>
      <td>Chicago</td>
      <td>506</td>
      <td>368</td>
      <td>360</td>
      <td>481</td>
      <td>0.157895</td>
      <td>&gt;0</td>
      <td>9458539</td>
      <td>26.631579</td>
      <td>18.947368</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Spurs</td>
      <td>1610612759</td>
      <td>San Antonio</td>
      <td>677</td>
      <td>238</td>
      <td>490</td>
      <td>417</td>
      <td>0.479781</td>
      <td>&gt;0</td>
      <td>2550960</td>
      <td>35.631579</td>
      <td>25.789474</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Warriors</td>
      <td>1610612744</td>
      <td>Golden State</td>
      <td>578</td>
      <td>293</td>
      <td>405</td>
      <td>473</td>
      <td>0.327210</td>
      <td>&gt;0</td>
      <td>4731803</td>
      <td>30.421053</td>
      <td>21.315789</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Nuggets</td>
      <td>1610612743</td>
      <td>Denver</td>
      <td>574</td>
      <td>274</td>
      <td>395</td>
      <td>496</td>
      <td>0.353774</td>
      <td>&gt;0</td>
      <td>2932415</td>
      <td>30.210526</td>
      <td>20.789474</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0d383a70-54f8-468a-8dfa-788dfd480277')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0d383a70-54f8-468a-8dfa-788dfd480277 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0d383a70-54f8-468a-8dfa-788dfd480277');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="uOrMYXGNFF4e">
<p>Now, we can determine the teams that made playoffs for past seasons. Here, we have declared helper functions that will help us gather the necessary data.</p>
</div>
<div class="cell code" id="uQk3FjYfFJIY">
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># function to check whether team is in Eastern or Western Conference</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> eastOrWestConf(map_teams_num_wins):</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># will store east and west conf teams</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  east_conf_playoffs <span class="op">=</span> []</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  west_conf_playoffs <span class="op">=</span> []</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (curr_team , num_wins) <span class="kw">in</span> map_teams_num_wins.items():</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># find whether team is in east or west conference</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>    df_is_team_in_east <span class="op">=</span> ((df_nba_team_stats_nb[df_nba_team_stats_nb[<span class="st">&#39;teams&#39;</span>] <span class="op">==</span> curr_team]))</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># get the east conference value from the current team </span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    is_team_in_east <span class="op">=</span> df_is_team_in_east.iloc[<span class="dv">0</span>, <span class="dv">12</span>]  </span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add team to east or west coast (only 8 teams per conference make it to playoffs)</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (is_team_in_east <span class="op">==</span> <span class="dv">1</span> <span class="kw">and</span> (<span class="bu">len</span>(east_conf_playoffs) <span class="op">&lt;</span> <span class="dv">8</span>)):</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>      east_conf_playoffs.append(curr_team)</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (is_team_in_east <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> (<span class="bu">len</span>(west_conf_playoffs) <span class="op">&lt;</span> <span class="dv">8</span>)):</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>      west_conf_playoffs.append(curr_team)</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return concatenated list of east adn west teams we deemed to have made playoffs in their conf.</span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (east_conf_playoffs <span class="op">+</span> west_conf_playoffs)</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a><span class="co"># returns 1 if team qualified for playoff ; 0 if team did not</span></span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> isTeamInPlayoffs(lst_qualified_teams, team_maybe_qualified):</span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (team_maybe_qualified <span class="kw">in</span> lst_qualified_teams):</span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span></span></code></pre></div>
</div>
<div class="cell markdown" id="eQQNXWA-FJjS">
<p>And here, we will keep track of the number of games a team has won for every season. With this, we will add two columns: the number of wins a team has had and whether the team made the playoffs that season.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:404,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="NLo1miMoFObP" data-outputId="d1e10d94-8f82-4bef-c45c-68dc0a0d02b8">
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># accumulate points scored by each team</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># map to store each team with wins in the season</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>map_team_num_wins_in_season <span class="op">=</span> {}</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>lst_teams <span class="op">=</span> df_nba_team_stats_nb[<span class="st">&#39;teams&#39;</span>].values.tolist()  <span class="co"># store list of teams</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>lst_team_qualified_for_curr_season <span class="op">=</span> [] <span class="co"># done to store whether teams qualified; will be added to a new column</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>lst_team_num_games_won <span class="op">=</span> [] <span class="co"># stores number of games won by team in the season; will be added as column</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate through years to determine</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> curr_year <span class="kw">in</span> lst_years_in_asc:</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  dataframe_curr_season <span class="op">=</span> df_nba_games_nb[df_nba_games_nb[<span class="st">&#39;SEASON&#39;</span>] <span class="op">==</span> curr_year]</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># empty the dataframe (to count new number of wins per season)</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>  map_team_num_wins_in_season.clear()</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>  lst_team_qualified_for_curr_season.clear()</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>  lst_team_num_games_won.clear()</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># iterate through season to accumulate number of wins for each team</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (index, row) <span class="kw">in</span> dataframe_curr_season.iterrows():  </span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># store current home and away teams</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>    home_team <span class="op">=</span> row[<span class="st">&#39;HOME_TEAM_NAME&#39;</span>]</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>    vis_team <span class="op">=</span> row[<span class="st">&#39;VISITOR_TEAM_NAME&#39;</span>]</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if home team wins = 1</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>      <span class="co"># update k-v pair of home team</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># else</span></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>      <span class="co"># update k-v pair of away team </span></span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (row[<span class="st">&#39;HOME_TEAM_WINS&#39;</span>] <span class="op">==</span> <span class="dv">1</span>):</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>      curr_num_wins <span class="op">=</span> map_team_num_wins_in_season.get(home_team, <span class="dv">0</span>) <span class="co"># zero is returned if team does not exist in map</span></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a>      curr_num_wins <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>      map_team_num_wins_in_season.update( { home_team : curr_num_wins } )</span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>      curr_num_wins <span class="op">=</span> map_team_num_wins_in_season.get(vis_team, <span class="dv">0</span>) <span class="co"># zero is returned if team does not exist map</span></span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>      curr_num_wins <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a>      map_team_num_wins_in_season.update( { vis_team : curr_num_wins } )</span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># store map of teams with number of wins from greatest to least number of wins</span></span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a>  map_team_num_wins_in_season_rev_order <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">sorted</span>(map_team_num_wins_in_season.items(), key<span class="op">=</span><span class="kw">lambda</span> item: item[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># returns appended list of eastern and western conference playoff teams</span></span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a>  lst_east_and_west <span class="op">=</span> eastOrWestConf(map_team_num_wins_in_season_rev_order)</span>
<span id="cb37-47"><a href="#cb37-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-48"><a href="#cb37-48" aria-hidden="true" tabindex="-1"></a>  <span class="co"># iterate through teams to store whether team was in playoff -&gt; will be added as new col to dataframe</span></span>
<span id="cb37-49"><a href="#cb37-49" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> curr_team <span class="kw">in</span> lst_teams:</span>
<span id="cb37-50"><a href="#cb37-50" aria-hidden="true" tabindex="-1"></a>    ret_val_team_in_playoff <span class="op">=</span> isTeamInPlayoffs(lst_east_and_west, curr_team)  <span class="co"># calls helper to determine </span></span>
<span id="cb37-51"><a href="#cb37-51" aria-hidden="true" tabindex="-1"></a>    lst_team_qualified_for_curr_season.append(ret_val_team_in_playoff)  <span class="co"># added to list to be added as col</span></span>
<span id="cb37-52"><a href="#cb37-52" aria-hidden="true" tabindex="-1"></a>    num_games_won <span class="op">=</span> map_team_num_wins_in_season.get(curr_team)  <span class="co"># gets number of wins for team</span></span>
<span id="cb37-53"><a href="#cb37-53" aria-hidden="true" tabindex="-1"></a>    lst_team_num_games_won.append(num_games_won) <span class="co"># get number of games won of the current team</span></span>
<span id="cb37-54"><a href="#cb37-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-55"><a href="#cb37-55" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create col names to append col</span></span>
<span id="cb37-56"><a href="#cb37-56" aria-hidden="true" tabindex="-1"></a>  num_wins_header <span class="op">=</span> <span class="st">&#39;Number Of Wins In &#39;</span> <span class="op">+</span> <span class="bu">str</span>(curr_year)</span>
<span id="cb37-57"><a href="#cb37-57" aria-hidden="true" tabindex="-1"></a>  made_playoffs_header <span class="op">=</span> <span class="st">&#39;Made Playoffs In &#39;</span> <span class="op">+</span> <span class="bu">str</span>(curr_year)</span>
<span id="cb37-58"><a href="#cb37-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-59"><a href="#cb37-59" aria-hidden="true" tabindex="-1"></a>  <span class="co"># append acculumated lists to new columns</span></span>
<span id="cb37-60"><a href="#cb37-60" aria-hidden="true" tabindex="-1"></a>  df_nba_team_stats_nb[num_wins_header] <span class="op">=</span> lst_team_num_games_won</span>
<span id="cb37-61"><a href="#cb37-61" aria-hidden="true" tabindex="-1"></a>  df_nba_team_stats_nb[made_playoffs_header] <span class="op">=</span> lst_team_qualified_for_curr_season</span>
<span id="cb37-62"><a href="#cb37-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-63"><a href="#cb37-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-64"><a href="#cb37-64" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats_nb.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="164">

  <div id="df-7e88c9f9-d784-4bd7-9bcc-edff9c9d6060">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>teams</th>
      <th>team_id</th>
      <th>team_city</th>
      <th>home_wins</th>
      <th>home_losses</th>
      <th>away_wins</th>
      <th>away_losses</th>
      <th>ratio</th>
      <th>greater_than_zero</th>
      <th>city_pop</th>
      <th>...</th>
      <th>Number Of Wins In 2017</th>
      <th>Made Playoffs In 2017</th>
      <th>Number Of Wins In 2018</th>
      <th>Made Playoffs In 2018</th>
      <th>Number Of Wins In 2019</th>
      <th>Made Playoffs In 2019</th>
      <th>Number Of Wins In 2020</th>
      <th>Made Playoffs In 2020</th>
      <th>Number Of Wins In 2021</th>
      <th>Made Playoffs In 2021</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Heat</td>
      <td>1610612748</td>
      <td>Miami</td>
      <td>609</td>
      <td>313</td>
      <td>428</td>
      <td>480</td>
      <td>0.321041</td>
      <td>&gt;0</td>
      <td>6166488</td>
      <td>...</td>
      <td>48</td>
      <td>1</td>
      <td>42</td>
      <td>0</td>
      <td>63</td>
      <td>1</td>
      <td>41</td>
      <td>1</td>
      <td>50</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bulls</td>
      <td>1610612741</td>
      <td>Chicago</td>
      <td>506</td>
      <td>368</td>
      <td>360</td>
      <td>481</td>
      <td>0.157895</td>
      <td>&gt;0</td>
      <td>9458539</td>
      <td>...</td>
      <td>30</td>
      <td>0</td>
      <td>24</td>
      <td>0</td>
      <td>24</td>
      <td>0</td>
      <td>34</td>
      <td>0</td>
      <td>45</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Spurs</td>
      <td>1610612759</td>
      <td>San Antonio</td>
      <td>677</td>
      <td>238</td>
      <td>490</td>
      <td>417</td>
      <td>0.479781</td>
      <td>&gt;0</td>
      <td>2550960</td>
      <td>...</td>
      <td>51</td>
      <td>1</td>
      <td>54</td>
      <td>1</td>
      <td>35</td>
      <td>0</td>
      <td>34</td>
      <td>0</td>
      <td>29</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Warriors</td>
      <td>1610612744</td>
      <td>Golden State</td>
      <td>578</td>
      <td>293</td>
      <td>405</td>
      <td>473</td>
      <td>0.327210</td>
      <td>&gt;0</td>
      <td>4731803</td>
      <td>...</td>
      <td>76</td>
      <td>1</td>
      <td>72</td>
      <td>1</td>
      <td>17</td>
      <td>0</td>
      <td>42</td>
      <td>0</td>
      <td>51</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Nuggets</td>
      <td>1610612743</td>
      <td>Denver</td>
      <td>574</td>
      <td>274</td>
      <td>395</td>
      <td>496</td>
      <td>0.353774</td>
      <td>&gt;0</td>
      <td>2932415</td>
      <td>...</td>
      <td>49</td>
      <td>0</td>
      <td>64</td>
      <td>1</td>
      <td>60</td>
      <td>1</td>
      <td>54</td>
      <td>1</td>
      <td>41</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 51 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-7e88c9f9-d784-4bd7-9bcc-edff9c9d6060')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-7e88c9f9-d784-4bd7-9bcc-edff9c9d6060 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-7e88c9f9-d784-4bd7-9bcc-edff9c9d6060');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="rUlhfM8JFQVH">
<p>Now we have two very important details per season: the number of games won in the season and whether they were able to make the playoffs for that season.</p>
<p>To predict which NBA teams will make it to the playoffs this season, we will use Logistic Regression. Logistic regression is a type of regression analysis that is used to predict a binary outcome - for out tutorial it will be whether a team will make it to the playoffs or not. The data considered will include win-loss records of each team. It will then use this data to train a model that can make predictions about which teams are likely to make it to the playoffs in the next season.</p>
<p>To help predict this outcome, we import Linear Model from <a href="https://scikit-learn.org/stable/">sklearn</a>, a library that helps users come to conclusions in Machine Learning. Before we make the most of the sklearn library, we have a helper function that predicts the likelihood of whether a team will make it to the playoffs or not.</p>
</div>
<div class="cell code" id="jS4Y2oojFZE3">
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculates and returns probablility that a team will make the playoffs</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co"># parameters: a logistic regression model ; x is the number of wins</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculateProbabilityTeamMakesPlayoffs(log_reg_model, num_wins):</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  coef <span class="op">=</span> log_reg_model.coef_</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  intercept <span class="op">=</span> log_reg_model.intercept_</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate odds</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  log_odds <span class="op">=</span>  coef <span class="op">*</span> num_wins <span class="op">+</span> intercept</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  odds_making <span class="op">=</span> np.exp(log_odds)</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  probability_playoffs <span class="op">=</span> odds_making <span class="op">/</span> ( <span class="dv">1</span> <span class="op">+</span> odds_making)</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>(probability_playoffs)</span></code></pre></div>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:404,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="Q-jHsQMJFeHE" data-outputId="4b846845-9ee9-4d21-b5e8-605992afd7b0">
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> linear_model</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>list_prob_will_make_playoffs <span class="op">=</span> []  <span class="co"># will store probabilities that each team will make playoffs</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate to get each function</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index, row) <span class="kw">in</span> df_nba_team_stats_nb.iterrows():</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  df_wins_and_playoff_appear_for_curr_team <span class="op">=</span> df_nba_team_stats_nb.iloc[index, <span class="dv">13</span>:] <span class="co"># get the wins and whether they made playoffs for each season</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  lst_wins_and_playoff_appear <span class="op">=</span> df_wins_and_playoff_appear_for_curr_team.values.tolist()  <span class="co"># store as a list to iterate through easily</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  num_wins_all_seasons_for_curr_team <span class="op">=</span> [] <span class="co"># for x</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  team_made_playoffs_per_season <span class="op">=</span> []  <span class="co"># for y</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># iterate to store number of wins for x or boolean (team made playoffs) for y</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(lst_wins_and_playoff_appear)):  </span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:  <span class="co"># lst starts with num_wins -&gt; all even indices are number of wins</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>      num_wins_all_seasons_for_curr_team.append(lst_wins_and_playoff_appear[i])</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>: <span class="co"># odd indexed-elements store boolean</span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>      team_made_playoffs_per_season.append(lst_wins_and_playoff_appear[i])</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># hornets/bobcats data for 2003 season is unavailable so we remove</span></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (row[<span class="st">&#39;teams&#39;</span>] <span class="op">==</span> <span class="st">&#39;Hornets&#39;</span>):</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>    num_wins_all_seasons_for_curr_team.pop(<span class="dv">0</span>)</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>    team_made_playoffs_per_season.pop(<span class="dv">0</span>)</span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># store in numpy arrays to be fit into model</span></span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>  x_wins <span class="op">=</span> np.array(num_wins_all_seasons_for_curr_team).reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>  y_playoffs <span class="op">=</span> np.array(team_made_playoffs_per_season)</span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># logitisc regression fit</span></span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a>  log_reg_model <span class="op">=</span> linear_model.LogisticRegression()</span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a>  log_reg_model.fit(x_wins,y_playoffs)</span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get avg number of wins for this upcoming season</span></span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a>  guessed_avg_wins <span class="op">=</span> ( <span class="bu">sum</span>(x_wins) <span class="op">/</span> (<span class="bu">len</span>(x_wins))   )</span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># returns confident prob to make playoffs for this season</span></span>
<span id="cb39-38"><a href="#cb39-38" aria-hidden="true" tabindex="-1"></a>  prob_make_playoffs <span class="op">=</span> calculateProbabilityTeamMakesPlayoffs(log_reg_model, guessed_avg_wins)</span>
<span id="cb39-39"><a href="#cb39-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-40"><a href="#cb39-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add current team&#39;s probability of making it to playoffs</span></span>
<span id="cb39-41"><a href="#cb39-41" aria-hidden="true" tabindex="-1"></a>  list_prob_will_make_playoffs.append(prob_make_playoffs)</span>
<span id="cb39-42"><a href="#cb39-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-43"><a href="#cb39-43" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb39-44"><a href="#cb39-44" aria-hidden="true" tabindex="-1"></a><span class="co"># add to dataframe as new columns</span></span>
<span id="cb39-45"><a href="#cb39-45" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats_nb[<span class="st">&#39;Prob_Playoffs&#39;</span>] <span class="op">=</span> list_prob_will_make_playoffs</span>
<span id="cb39-46"><a href="#cb39-46" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats_nb.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="166">

  <div id="df-d370d6d9-0299-49ad-837e-8687878f50c2">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>teams</th>
      <th>team_id</th>
      <th>team_city</th>
      <th>home_wins</th>
      <th>home_losses</th>
      <th>away_wins</th>
      <th>away_losses</th>
      <th>ratio</th>
      <th>greater_than_zero</th>
      <th>city_pop</th>
      <th>...</th>
      <th>Made Playoffs In 2017</th>
      <th>Number Of Wins In 2018</th>
      <th>Made Playoffs In 2018</th>
      <th>Number Of Wins In 2019</th>
      <th>Made Playoffs In 2019</th>
      <th>Number Of Wins In 2020</th>
      <th>Made Playoffs In 2020</th>
      <th>Number Of Wins In 2021</th>
      <th>Made Playoffs In 2021</th>
      <th>Prob_Playoffs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Heat</td>
      <td>1610612748</td>
      <td>Miami</td>
      <td>609</td>
      <td>313</td>
      <td>428</td>
      <td>480</td>
      <td>0.321041</td>
      <td>&gt;0</td>
      <td>6166488</td>
      <td>...</td>
      <td>1</td>
      <td>42</td>
      <td>0</td>
      <td>63</td>
      <td>1</td>
      <td>41</td>
      <td>1</td>
      <td>50</td>
      <td>1</td>
      <td>[[0.9997358004241109]]</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bulls</td>
      <td>1610612741</td>
      <td>Chicago</td>
      <td>506</td>
      <td>368</td>
      <td>360</td>
      <td>481</td>
      <td>0.157895</td>
      <td>&gt;0</td>
      <td>9458539</td>
      <td>...</td>
      <td>0</td>
      <td>24</td>
      <td>0</td>
      <td>24</td>
      <td>0</td>
      <td>34</td>
      <td>0</td>
      <td>45</td>
      <td>1</td>
      <td>[[0.7719414851357536]]</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Spurs</td>
      <td>1610612759</td>
      <td>San Antonio</td>
      <td>677</td>
      <td>238</td>
      <td>490</td>
      <td>417</td>
      <td>0.479781</td>
      <td>&gt;0</td>
      <td>2550960</td>
      <td>...</td>
      <td>1</td>
      <td>54</td>
      <td>1</td>
      <td>35</td>
      <td>0</td>
      <td>34</td>
      <td>0</td>
      <td>29</td>
      <td>0</td>
      <td>[[0.999877234096018]]</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Warriors</td>
      <td>1610612744</td>
      <td>Golden State</td>
      <td>578</td>
      <td>293</td>
      <td>405</td>
      <td>473</td>
      <td>0.327210</td>
      <td>&gt;0</td>
      <td>4731803</td>
      <td>...</td>
      <td>1</td>
      <td>72</td>
      <td>1</td>
      <td>17</td>
      <td>0</td>
      <td>42</td>
      <td>0</td>
      <td>51</td>
      <td>1</td>
      <td>[[0.7228472681827707]]</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Nuggets</td>
      <td>1610612743</td>
      <td>Denver</td>
      <td>574</td>
      <td>274</td>
      <td>395</td>
      <td>496</td>
      <td>0.353774</td>
      <td>&gt;0</td>
      <td>2932415</td>
      <td>...</td>
      <td>0</td>
      <td>64</td>
      <td>1</td>
      <td>60</td>
      <td>1</td>
      <td>54</td>
      <td>1</td>
      <td>41</td>
      <td>1</td>
      <td>[[0.9414824084834146]]</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 52 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-d370d6d9-0299-49ad-837e-8687878f50c2')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-d370d6d9-0299-49ad-837e-8687878f50c2 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-d370d6d9-0299-49ad-837e-8687878f50c2');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="46HKgbvnF5HF">
<p>Now that we have the confidence predictions for each team, we can guess which teams will make the playoffs. We have to get eight teams from the eastern conference and eight from the western conference.</p>
</div>
<div class="cell code" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="4KofdfO1F7XP" data-outputId="50b8d0e7-0a8b-42c8-d36b-faf327a4091f">
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sort column by probability value we just calculated</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats_nb <span class="op">=</span> df_nba_team_stats_nb.sort_values(by<span class="op">=</span>[<span class="st">&#39;Prob_Playoffs&#39;</span>], ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co">#print(df_nba_team_stats_nb.columns)</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co"># for reader, maximum number of teams in a conferemce</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>max_num_playoff_teams_in_conference <span class="op">=</span> <span class="dv">8</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="co"># will store eastern and western conference that will make playoffs </span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>east_conf_teams <span class="op">=</span> []</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>west_conf_teams <span class="op">=</span> []</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="co"># store the teams (from both conferences) that will make the playoffs</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>will_make_playoffs <span class="op">=</span> []</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate to accumulate predicted teams to make playoffs </span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index, row) <span class="kw">in</span> df_nba_team_stats_nb.iterrows():</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>  curr_team <span class="op">=</span> row[<span class="st">&#39;teams&#39;</span>]</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>  in_east_or_west <span class="op">=</span> row[<span class="st">&#39;Is_Team_In_Eastern_Conf&#39;</span>]</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># helps when determining whether a team made the playoffs</span></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>  prev_len <span class="op">=</span> <span class="bu">len</span>(will_make_playoffs)</span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># check if in eastern or western conference to add teams </span></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ((in_east_or_west <span class="op">==</span> <span class="dv">1</span>) <span class="kw">and</span> (<span class="bu">len</span>(east_conf_teams) <span class="op">&lt;</span> max_num_playoff_teams_in_conference )    ): </span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>    will_make_playoffs.append(<span class="dv">1</span>)</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>    east_conf_teams.append(curr_team)</span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ((in_east_or_west <span class="op">==</span> <span class="dv">0</span>) <span class="kw">and</span> (<span class="bu">len</span>(west_conf_teams) <span class="op">&lt;</span> max_num_playoff_teams_in_conference  )   ): </span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>    will_make_playoffs.append(<span class="dv">1</span>)</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>    west_conf_teams.append(curr_team)</span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># for that team won&#39;t make playoff</span></span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (prev_len <span class="op">==</span> <span class="bu">len</span>(will_make_playoffs)):</span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a>    will_make_playoffs.append(<span class="dv">0</span>)</span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true" tabindex="-1"></a><span class="co"># add a column for binary val based on our prediction whether team will make playoffs</span></span>
<span id="cb40-38"><a href="#cb40-38" aria-hidden="true" tabindex="-1"></a>df_nba_team_stats_nb[<span class="st">&#39;Will_Make_Playoffs&#39;</span>] <span class="op">=</span> will_make_playoffs</span>
<span id="cb40-39"><a href="#cb40-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-40"><a href="#cb40-40" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Eastern conference teams to make playoffs: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(east_conf_teams))</span>
<span id="cb40-41"><a href="#cb40-41" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Western conference teams to make playoffs: &quot;</span> <span class="op">+</span> <span class="bu">str</span>(west_conf_teams))</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Eastern conference teams to make playoffs: [&#39;Celtics&#39;, &#39;Heat&#39;, &#39;Bucks&#39;, &#39;Hawks&#39;, &#39;Raptors&#39;, &#39;Cavaliers&#39;, &#39;Pacers&#39;, &#39;Pistons&#39;]
Western conference teams to make playoffs: [&#39;Spurs&#39;, &#39;Mavericks&#39;, &#39;Lakers&#39;, &#39;Nuggets&#39;, &#39;Rockets&#39;, &#39;Warriors&#39;, &#39;Jazz&#39;, &#39;Clippers&#39;]
</code></pre>
</div>
</div>
<div class="cell markdown" id="RzMBJ7_YF86q">
<p>Now that we have the sixteen teams who will make the playoffs, we can recerate the home court advantage horizontal bar chart with a couple of modifications: the teams who will make the playoffs are in orange; there is a vertical dotted line that represents the average ratio of calculated earlier in the tutorial.</p>
</div>
<div class="cell code" data-colab="{&quot;height&quot;:400,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="dai6hDaLIi9m" data-outputId="df95cf0c-17f4-4eea-f145-01609e4f30ca">
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot seaborn bar graph</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>[<span class="dv">4</span>,<span class="dv">6</span>])</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>plt.rcParams.update({<span class="st">&#39;font.size&#39;</span>: <span class="dv">9</span>})</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co"># get average to be plotted as threshold</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="co">#avg_ratio = df_ratio[&#39;ratio&#39;].values.tolist().avg()</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>avg_ratio <span class="op">=</span> <span class="bu">sum</span>(df_ratio[<span class="st">&#39;ratio&#39;</span>]) <span class="op">/</span> <span class="bu">len</span>(df_ratio[<span class="st">&#39;ratio&#39;</span>])</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="co"># plot similar horizontal bar graph with threshold to represen the average ratio when playing at home</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>sns.barplot(y<span class="op">=</span>df_nba_team_stats_nb[<span class="st">&#39;teams&#39;</span>], x<span class="op">=</span>df_nba_team_stats_nb[<span class="st">&#39;ratio&#39;</span>], hue<span class="op">=</span>df_nba_team_stats_nb[<span class="st">&#39;Will_Make_Playoffs&#39;</span>])</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>plt.axvline(avg_ratio, color <span class="op">=</span> <span class="st">&#39;red&#39;</span>, ls <span class="op">=</span> <span class="st">&#39;dotted&#39;</span>)</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Home Court Impact in the NBA&#39;</span>)</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_52e0807abbbd4678b40f2af1014a72dc/3adc9e121078bacc711b8a338c350e3a2e8526e4.png" /></p>
</div>
</div>
<div class="cell markdown" id="PtAS2GMQqMZT">
<p>Here, we find that 13 of the 16 teams that will make the playoffs have a higher win-at-home ratio than the average ratio amongst all teams. We believe that it is falr to say that home court advantage does have an influence on whether a team will make the playoffs.</p>
</div>
<section id="is-home-court-advantage-real" class="cell markdown" id="Wr_k8XyZrxFm">
<h1>Is Home Court Advantage Real?</h1>
</section>
<div class="cell markdown" id="zw4pktIRr0zm">
<p>Over the course of this project, we gained a lot of insight on whether “home court advantage” is a true thing or not. We first tried to look at the raw data and see the story that it told. We first tried to take a more naive approach and compare all-time home wins in the NBA to all-time away wins. Doing this, we saw that there were more home wins, but we knew deep down that this wasn’t enough to come to a solid conclusion. We then devised a formula that takes a team’s all-time home wins and home losses to give us a ratio that shows us how much impact home being in their home stadium had on these teams. Nearly all (but four) teams had a positive ratio, giving us more inclination that having home court may play as an advantage.</p>
<p>We then looked at players individually and got stats on some of the biggest basketball players the NBA has ever seen. We noticed that there wasn’t much of a difference in their stats when home versus when they’re away. This makes sense as they wouldn’t be so “great” if they could only overperform when surrounded by supporters.</p>
<p>After solely looking at the data, we were curious to see if external factors like COVID-19, city population, smartphones and the distractions it brings, alongside celebrities, had any impact on team performance. Looking at COVID-19, we saw that teams had performed a lot better when home before and after the pandemic. We then started to think about the number of fans a team can have by looking at the city populations. To our surprise, we noticed that typically, the greater the team's city population was, the less amount of home wins they had. That wasn’t the only thing that had surprised us, we also saw that the rise of smartphones also didn’t play much of a role.</p>
<p>We then looked at the impact that celebrities had by looking at Kevin Hart and his presence at NBA games. Looking at the six 76ers games that Kevin Hart has been a part of (because he’s from Philadelphia), the 76ers lost four of them and won two. This is not at all what we had expected, especially because Kevin Hart is usually in the position to be the “most influential” fan (court-side).</p>
<p>With all this back and forth on whether “home-court advantage” was a real thing or not. We decided to do a good ol’ fashion hypothesis test. We wanted to compare the average number of home game wins across all seasons per NBA team with that of the away team. We saw that the p-value of the two-sample T-test we conducted was nearly 0%, allowing us to completely reject the null hypothesis and conclude that there is a difference between the average home wins across the seasons in the NBA and the average away wins.</p>
<p>With what we computed, we wanted to create a model that’s able to predict which teams make it to the playoffs next season. Using this model we took the top 16 teams (8 from each conference) and noticed that the majority of those teams had a greater home win to home loss ratio than the average ratio of all the NBA. This supports the idea of a home-court advantage.</p>
<p>After conducting this project, we came to the conclusion that “home-court advantage” is a real thing – but we couldn’t find the reason why. Due to this, we came to terms with the probability that there exists more external factors on why it is a real thing than what we had initially assumed.</p>
</div>
</body>
</html>
